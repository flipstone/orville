<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{- |
Copyright : Flipstone Technology Partners 2023
License   : MIT
Stability : Stable

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Orville.PostgreSQL.Monad.Orville</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#Orville"><span class="hs-identifier">Orville</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#runOrville"><span class="hs-identifier">runOrville</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#runOrvilleWithState"><span class="hs-identifier">runOrvilleWithState</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">where</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception.Safe</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ExSafe</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ReaderT</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">runReaderT</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Pool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pool</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.ErrorDetailLevel.html"><span class="hs-identifier">Orville.PostgreSQL.ErrorDetailLevel</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ErrorDetailLevel</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.HasOrvilleState.html"><span class="hs-identifier">Orville.PostgreSQL.Monad.HasOrvilleState</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HasOrvilleState</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.MonadOrville.html"><span class="hs-identifier">Orville.PostgreSQL.Monad.MonadOrville</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MonadOrville</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.OrvilleState.html"><span class="hs-identifier">Orville.PostgreSQL.OrvilleState</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OrvilleState</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Raw.Connection.html"><span class="hs-identifier">Orville.PostgreSQL.Raw.Connection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.Raw.Connection.html#Connection"><span class="hs-identifier">Connection</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="annot"><span class="hs-comment">{- |
  The 'Orville' Monad provides a easy starter implementation of 'MonadOrville'
  when you don't have a monad specific to your application that you need to
  use.

  If you want add Orville capabilities to your own monad, take a look at
  'MonadOrville' to learn what needs to be done.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">newtype</span><span> </span><span id="Orville"><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#Orville"><span class="hs-identifier hs-var">Orville</span></a></span></span><span> </span><span id="local-6989586621679132334"><span class="annot"><a href="#local-6989586621679132334"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Orville"><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#Orville"><span class="hs-identifier hs-var">Orville</span></a></span></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="unwrapOrville"><span class="annot"><span class="annottext">forall a. Orville a -&gt; ReaderT OrvilleState IO a
</span><a href="Orville.PostgreSQL.Monad.Orville.html#unwrapOrville"><span class="hs-identifier hs-var hs-var">unwrapOrville</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.OrvilleState.html#OrvilleState"><span class="hs-identifier hs-type">OrvilleState.OrvilleState</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679132334"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-keyword">deriving</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679132455"><span id="local-6989586621679132461"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Orville a -&gt; Orville b)
-&gt; (forall a b. a -&gt; Orville b -&gt; Orville a) -&gt; Functor Orville
forall a b. a -&gt; Orville b -&gt; Orville a
forall a b. (a -&gt; b) -&gt; Orville a -&gt; Orville b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Orville a -&gt; Orville b
fmap :: forall a b. (a -&gt; b) -&gt; Orville a -&gt; Orville b
$c&lt;$ :: forall a b. a -&gt; Orville b -&gt; Orville a
&lt;$ :: forall a b. a -&gt; Orville b -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132471"><span id="local-6989586621679132477"><span id="local-6989586621679132482"><span id="local-6989586621679132487"><span id="local-6989586621679132492"><span class="annot"><span class="annottext">Functor Orville
Functor Orville
-&gt; (forall a. a -&gt; Orville a)
-&gt; (forall a b. Orville (a -&gt; b) -&gt; Orville a -&gt; Orville b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; Orville a -&gt; Orville b -&gt; Orville c)
-&gt; (forall a b. Orville a -&gt; Orville b -&gt; Orville b)
-&gt; (forall a b. Orville a -&gt; Orville b -&gt; Orville a)
-&gt; Applicative Orville
forall a. a -&gt; Orville a
forall a b. Orville a -&gt; Orville b -&gt; Orville a
forall a b. Orville a -&gt; Orville b -&gt; Orville b
forall a b. Orville (a -&gt; b) -&gt; Orville a -&gt; Orville b
forall a b c. (a -&gt; b -&gt; c) -&gt; Orville a -&gt; Orville b -&gt; Orville c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall a. a -&gt; Orville a
pure :: forall a. a -&gt; Orville a
$c&lt;*&gt; :: forall a b. Orville (a -&gt; b) -&gt; Orville a -&gt; Orville b
&lt;*&gt; :: forall a b. Orville (a -&gt; b) -&gt; Orville a -&gt; Orville b
$cliftA2 :: forall a b c. (a -&gt; b -&gt; c) -&gt; Orville a -&gt; Orville b -&gt; Orville c
liftA2 :: forall a b c. (a -&gt; b -&gt; c) -&gt; Orville a -&gt; Orville b -&gt; Orville c
$c*&gt; :: forall a b. Orville a -&gt; Orville b -&gt; Orville b
*&gt; :: forall a b. Orville a -&gt; Orville b -&gt; Orville b
$c&lt;* :: forall a b. Orville a -&gt; Orville b -&gt; Orville a
&lt;* :: forall a b. Orville a -&gt; Orville b -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></span></span></span></span></span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132502"><span id="local-6989586621679132508"><span id="local-6989586621679132513"><span class="annot"><span class="annottext">Applicative Orville
Applicative Orville
-&gt; (forall a b. Orville a -&gt; (a -&gt; Orville b) -&gt; Orville b)
-&gt; (forall a b. Orville a -&gt; Orville b -&gt; Orville b)
-&gt; (forall a. a -&gt; Orville a)
-&gt; Monad Orville
forall a. a -&gt; Orville a
forall a b. Orville a -&gt; Orville b -&gt; Orville b
forall a b. Orville a -&gt; (a -&gt; Orville b) -&gt; Orville b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall a b. Orville a -&gt; (a -&gt; Orville b) -&gt; Orville b
&gt;&gt;= :: forall a b. Orville a -&gt; (a -&gt; Orville b) -&gt; Orville b
$c&gt;&gt; :: forall a b. Orville a -&gt; Orville b -&gt; Orville b
&gt;&gt; :: forall a b. Orville a -&gt; Orville b -&gt; Orville b
$creturn :: forall a. a -&gt; Orville a
return :: forall a. a -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></span></span></span></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132523"><span class="annot"><span class="annottext">Monad Orville
Monad Orville -&gt; (forall a. IO a -&gt; Orville a) -&gt; MonadIO Orville
forall a. IO a -&gt; Orville a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. IO a -&gt; m a) -&gt; MonadIO m
$cliftIO :: forall a. IO a -&gt; Orville a
liftIO :: forall a. IO a -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadIO</span></span></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132532"><span id="local-6989586621679132540"><span id="local-6989586621679132547"><span class="annot"><span class="annottext">(forall b.
 (forall a. (Connection -&gt; IO a) -&gt; IO a)
 -&gt; (Connection -&gt; Orville b) -&gt; Orville b)
-&gt; (forall e b.
    Exception e =&gt;
    (forall a. IO a -&gt; (e -&gt; IO a) -&gt; IO a)
    -&gt; Orville b -&gt; (e -&gt; Orville b) -&gt; Orville b)
-&gt; (forall c.
    (forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b)
    -&gt; ((forall a. Orville a -&gt; Orville a) -&gt; Orville c) -&gt; Orville c)
-&gt; MonadOrvilleControl Orville
forall b.
(forall a. (Connection -&gt; IO a) -&gt; IO a)
-&gt; (Connection -&gt; Orville b) -&gt; Orville b
forall c.
(forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b)
-&gt; ((forall a. Orville a -&gt; Orville a) -&gt; Orville c) -&gt; Orville c
forall e b.
Exception e =&gt;
(forall a. IO a -&gt; (e -&gt; IO a) -&gt; IO a)
-&gt; Orville b -&gt; (e -&gt; Orville b) -&gt; Orville b
forall (m :: * -&gt; *).
(forall b.
 (forall a. (Connection -&gt; IO a) -&gt; IO a)
 -&gt; (Connection -&gt; m b) -&gt; m b)
-&gt; (forall e b.
    Exception e =&gt;
    (forall a. IO a -&gt; (e -&gt; IO a) -&gt; IO a)
    -&gt; m b -&gt; (e -&gt; m b) -&gt; m b)
-&gt; (forall c.
    (forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b)
    -&gt; ((forall a. m a -&gt; m a) -&gt; m c) -&gt; m c)
-&gt; MonadOrvilleControl m
$cliftWithConnection :: forall b.
(forall a. (Connection -&gt; IO a) -&gt; IO a)
-&gt; (Connection -&gt; Orville b) -&gt; Orville b
liftWithConnection :: forall b.
(forall a. (Connection -&gt; IO a) -&gt; IO a)
-&gt; (Connection -&gt; Orville b) -&gt; Orville b
$cliftCatch :: forall e b.
Exception e =&gt;
(forall a. IO a -&gt; (e -&gt; IO a) -&gt; IO a)
-&gt; Orville b -&gt; (e -&gt; Orville b) -&gt; Orville b
liftCatch :: forall e b.
Exception e =&gt;
(forall a. IO a -&gt; (e -&gt; IO a) -&gt; IO a)
-&gt; Orville b -&gt; (e -&gt; Orville b) -&gt; Orville b
$cliftMask :: forall c.
(forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b)
-&gt; ((forall a. Orville a -&gt; Orville a) -&gt; Orville c) -&gt; Orville c
liftMask :: forall c.
(forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b)
-&gt; ((forall a. Orville a -&gt; Orville a) -&gt; Orville c) -&gt; Orville c
</span><a href="Orville.PostgreSQL.Monad.MonadOrville.html#MonadOrvilleControl"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">MonadOrville.MonadOrvilleControl</span></a></span></span></span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">MonadIO Orville
HasOrvilleState Orville
MonadOrvilleControl Orville
HasOrvilleState Orville
-&gt; MonadOrvilleControl Orville
-&gt; MonadIO Orville
-&gt; MonadOrville Orville
forall (m :: * -&gt; *).
HasOrvilleState m
-&gt; MonadOrvilleControl m -&gt; MonadIO m -&gt; MonadOrville m
</span><a href="Orville.PostgreSQL.Monad.MonadOrville.html#MonadOrville"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadOrville.MonadOrville</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132564"><span id="local-6989586621679132570"><span class="annot"><span class="annottext">Orville OrvilleState
Orville OrvilleState
-&gt; (forall a.
    (OrvilleState -&gt; OrvilleState) -&gt; Orville a -&gt; Orville a)
-&gt; HasOrvilleState Orville
forall a. (OrvilleState -&gt; OrvilleState) -&gt; Orville a -&gt; Orville a
forall (m :: * -&gt; *).
m OrvilleState
-&gt; (forall a. (OrvilleState -&gt; OrvilleState) -&gt; m a -&gt; m a)
-&gt; HasOrvilleState m
$caskOrvilleState :: Orville OrvilleState
askOrvilleState :: Orville OrvilleState
$clocalOrvilleState :: forall a. (OrvilleState -&gt; OrvilleState) -&gt; Orville a -&gt; Orville a
localOrvilleState :: forall a. (OrvilleState -&gt; OrvilleState) -&gt; Orville a -&gt; Orville a
</span><a href="Orville.PostgreSQL.Monad.HasOrvilleState.html#HasOrvilleState"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">HasOrvilleState.HasOrvilleState</span></a></span></span></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132580"><span class="annot"><span class="annottext">Monad Orville
Monad Orville
-&gt; (forall e a. Exception e =&gt; e -&gt; Orville a)
-&gt; MonadThrow Orville
forall e a. Exception e =&gt; e -&gt; Orville a
forall (m :: * -&gt; *).
Monad m -&gt; (forall e a. Exception e =&gt; e -&gt; m a) -&gt; MonadThrow m
$cthrowM :: forall e a. Exception e =&gt; e -&gt; Orville a
throwM :: forall e a. Exception e =&gt; e -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">ExSafe.MonadThrow</span></span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679132595"><span class="annot"><span class="annottext">MonadThrow Orville
MonadThrow Orville
-&gt; (forall e a.
    Exception e =&gt;
    Orville a -&gt; (e -&gt; Orville a) -&gt; Orville a)
-&gt; MonadCatch Orville
forall e a.
Exception e =&gt;
Orville a -&gt; (e -&gt; Orville a) -&gt; Orville a
forall (m :: * -&gt; *).
MonadThrow m
-&gt; (forall e a. Exception e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a)
-&gt; MonadCatch m
$ccatch :: forall e a.
Exception e =&gt;
Orville a -&gt; (e -&gt; Orville a) -&gt; Orville a
catch :: forall e a.
Exception e =&gt;
Orville a -&gt; (e -&gt; Orville a) -&gt; Orville a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">ExSafe.MonadCatch</span></span></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">{- |
  Runs an 'Orville' operation in the 'IO' monad using the given connection
  pool.

  This will run the 'Orville' operation with the 'ErrorDetailLevel' set to the
  default. If want to run with a different detail level, you can use
  'OrvilleState.newOrvilleState' to create a state with the desired detail
  level and then use 'runOrvilleWithState'.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-64"></span><span id="local-6989586621679132438"><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#runOrville"><span class="hs-identifier hs-type">runOrville</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pool</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Raw.Connection.html#Connection"><span class="hs-identifier hs-type">Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#Orville"><span class="hs-identifier hs-type">Orville</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679132438"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-65"></span><span id="runOrville"><span class="annot"><span class="annottext">runOrville :: forall a. Pool Connection -&gt; Orville a -&gt; IO a
</span><a href="Orville.PostgreSQL.Monad.Orville.html#runOrville"><span class="hs-identifier hs-var hs-var">runOrville</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="annottext">OrvilleState -&gt; Orville a -&gt; IO a
forall a. OrvilleState -&gt; Orville a -&gt; IO a
</span><a href="Orville.PostgreSQL.Monad.Orville.html#runOrvilleWithState"><span class="hs-identifier hs-var">runOrvilleWithState</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">(OrvilleState -&gt; Orville a -&gt; IO a)
-&gt; (Pool Connection -&gt; OrvilleState)
-&gt; Pool Connection
-&gt; Orville a
-&gt; IO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ErrorDetailLevel -&gt; Pool Connection -&gt; OrvilleState
</span><a href="Orville.PostgreSQL.Internal.OrvilleState.html#newOrvilleState"><span class="hs-identifier hs-var">OrvilleState.newOrvilleState</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorDetailLevel
</span><a href="Orville.PostgreSQL.ErrorDetailLevel.html#defaultErrorDetailLevel"><span class="hs-identifier hs-var">ErrorDetailLevel.defaultErrorDetailLevel</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="annot"><span class="hs-comment">{- |
  Runs an 'Orville' operation in the 'IO' monad, starting from the provided
  'OrvilleState'.

  Caution: If you harvest an 'OrvilleState' from inside a
  'MonadOrville.MonadOrville' monad using 'MonadOrville.askOrvilleState',
  you may pick up connection tracking state that you didn't intend to. You
  may want to use 'MonadOrville.resetOrvilleState' in this situation to get
  a new initial state before passing it to 'runOrvilleWithState'.

  On the other hand, if you know that you want to pass the existing connection
  state from another monad into the 'Orville' monad, this is how you do it.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-84"></span><span id="local-6989586621679132440"><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#runOrvilleWithState"><span class="hs-identifier hs-type">runOrvilleWithState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Internal.OrvilleState.html#OrvilleState"><span class="hs-identifier hs-type">OrvilleState.OrvilleState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Monad.Orville.html#Orville"><span class="hs-identifier hs-type">Orville</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132440"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679132440"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-85"></span><span id="runOrvilleWithState"><span class="annot"><span class="annottext">runOrvilleWithState :: forall a. OrvilleState -&gt; Orville a -&gt; IO a
</span><a href="Orville.PostgreSQL.Monad.Orville.html#runOrvilleWithState"><span class="hs-identifier hs-var hs-var">runOrvilleWithState</span></a></span></span><span> </span><span id="local-6989586621679132608"><span class="annot"><span class="annottext">OrvilleState
</span><a href="#local-6989586621679132608"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621679132609"><span class="annot"><span class="annottext">Orville a
</span><a href="#local-6989586621679132609"><span class="hs-identifier hs-var">orville</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">ReaderT OrvilleState IO a -&gt; OrvilleState -&gt; IO a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var">runReaderT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Orville a -&gt; ReaderT OrvilleState IO a
forall a. Orville a -&gt; ReaderT OrvilleState IO a
</span><a href="Orville.PostgreSQL.Monad.Orville.html#unwrapOrville"><span class="hs-identifier hs-var">unwrapOrville</span></a></span><span> </span><span class="annot"><span class="annottext">Orville a
</span><a href="#local-6989586621679132609"><span class="hs-identifier hs-var">orville</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OrvilleState
</span><a href="#local-6989586621679132608"><span class="hs-identifier hs-var">state</span></a></span><span>
</span><span id="line-87"></span></pre></body></html>