<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">{- |
Copyright : Flipstone Technology Partners 2023
License   : MIT
Stability : Stable

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.DatabaseDescription</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier">DatabaseDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier">RelationDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier">ConstraintDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier">ForeignRelationDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier">IndexDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier">IndexMember</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelation"><span class="hs-identifier">lookupRelation</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelationOfKind"><span class="hs-identifier">lookupRelationOfKind</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttribute"><span class="hs-identifier">lookupAttribute</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttributeDefault"><span class="hs-identifier">lookupAttributeDefault</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeDatabaseRelations"><span class="hs-identifier">describeDatabaseRelations</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">where</span><span class="hs-cpp">

#if MIN_VERSION_base(4,18,0)
</span><span class="hs-cpp">#else
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftA2</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Database.PostgreSQL.LibPQ</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LibPQ</span></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.html"><span class="hs-identifier">Orville.PostgreSQL</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Orville</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.OidField.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.OidField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.OidField.html#oidField"><span class="hs-identifier">oidField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgAttribute</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeName"><span class="hs-identifier">AttributeName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier">AttributeNumber</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier">PgAttribute</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeName"><span class="hs-identifier">pgAttributeName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeNumber"><span class="hs-identifier">pgAttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeIsDroppedField"><span class="hs-identifier">attributeIsDroppedField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeNumberToInt16"><span class="hs-identifier">attributeNumberToInt16</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeRelationOidField"><span class="hs-identifier">attributeRelationOidField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeTable"><span class="hs-identifier">pgAttributeTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgAttributeDefault</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#PgAttributeDefault"><span class="hs-identifier">PgAttributeDefault</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#pgAttributeDefaultAttributeNumber"><span class="hs-identifier">pgAttributeDefaultAttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#attributeDefaultRelationOidField"><span class="hs-identifier">attributeDefaultRelationOidField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#pgAttributeDefaultTable"><span class="hs-identifier">pgAttributeDefaultTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier">PgClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassNamespaceOid"><span class="hs-identifier">pgClassNamespaceOid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier">pgClassOid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassRelationName"><span class="hs-identifier">pgClassRelationName</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationKind"><span class="hs-identifier">RelationKind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier">RelationName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#namespaceOidField"><span class="hs-identifier">namespaceOidField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassRelationKind"><span class="hs-identifier">pgClassRelationKind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassTable"><span class="hs-identifier">pgClassTable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#relationNameField"><span class="hs-identifier">relationNameField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#relationNameToString"><span class="hs-identifier">relationNameToString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#PgConstraint"><span class="hs-identifier">PgConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintForeignKey"><span class="hs-identifier">pgConstraintForeignKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintForeignRelationOid"><span class="hs-identifier">pgConstraintForeignRelationOid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintKey"><span class="hs-identifier">pgConstraintKey</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#constraintRelationOidField"><span class="hs-identifier">constraintRelationOidField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintTable"><span class="hs-identifier">pgConstraintTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier">PgIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexAttributeNumbers"><span class="hs-identifier">pgIndexAttributeNumbers</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexPgClassOid"><span class="hs-identifier">pgIndexPgClassOid</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#indexIsLiveField"><span class="hs-identifier">indexIsLiveField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#indexRelationOidField"><span class="hs-identifier">indexRelationOidField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexTable"><span class="hs-identifier">pgIndexTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgNamespace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#PgNamespace"><span class="hs-identifier">PgNamespace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#pgNamespaceOid"><span class="hs-identifier">pgNamespaceOid</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#namespaceNameField"><span class="hs-identifier">namespaceNameField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#pgNamespaceTable"><span class="hs-identifier">pgNamespaceTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html"><span class="hs-identifier">Orville.PostgreSQL.PgCatalog.PgSequence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#PgSequence"><span class="hs-identifier">PgSequence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#pgSequenceTable"><span class="hs-identifier">pgSequenceTable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#sequencePgClassOidField"><span class="hs-identifier">sequencePgClassOidField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html"><span class="hs-identifier">Orville.PostgreSQL.Plan</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plan</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.Many.html"><span class="hs-identifier">Orville.PostgreSQL.Plan.Many</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Many</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.Operation.html"><span class="hs-identifier">Orville.PostgreSQL.Plan.Operation</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Op</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="annot"><span class="hs-comment">{- |
  A description of selected items from a single PostgreSQL database.
  'describeDatabaseRelations' can be used to load the descriptions of request
  items.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">data</span><span> </span><span id="DatabaseDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-var">DatabaseDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DatabaseDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-var">DatabaseDescription</span></a></span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="databaseRelations"><span class="annot"><span class="annottext">DatabaseDescription
-&gt; Map (NamespaceName, RelationName) RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#databaseRelations"><span class="hs-identifier hs-var hs-var">databaseRelations</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><span class="hs-comment">{- |
  Lookup a relation by its qualified name in the @pg_catalog@ schema.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-61"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelation"><span class="hs-identifier hs-type">lookupRelation</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-type">DatabaseDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span>
</span><span id="line-65"></span><span id="lookupRelation"><span class="annot"><span class="annottext">lookupRelation :: (NamespaceName, RelationName)
-&gt; DatabaseDescription -&gt; Maybe RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelation"><span class="hs-identifier hs-var hs-var">lookupRelation</span></a></span></span><span> </span><span id="local-6989586621679141963"><span class="annot"><span class="annottext">(NamespaceName, RelationName)
</span><a href="#local-6989586621679141963"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="annottext">(NamespaceName, RelationName)
-&gt; Map (NamespaceName, RelationName) RelationDescription
-&gt; Maybe RelationDescription
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">(NamespaceName, RelationName)
</span><a href="#local-6989586621679141963"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">(Map (NamespaceName, RelationName) RelationDescription
 -&gt; Maybe RelationDescription)
-&gt; (DatabaseDescription
    -&gt; Map (NamespaceName, RelationName) RelationDescription)
-&gt; DatabaseDescription
-&gt; Maybe RelationDescription
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DatabaseDescription
-&gt; Map (NamespaceName, RelationName) RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#databaseRelations"><span class="hs-identifier hs-var">databaseRelations</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="annot"><span class="hs-comment">{- |
  Lookup a relation by its qualified name in the @pg_catalog@ schema. If the
  relation is not of the expected kind, 'Nothing' is returned.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelationOfKind"><span class="hs-identifier hs-type">lookupRelationOfKind</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationKind"><span class="hs-identifier hs-type">RelationKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-type">DatabaseDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span>
</span><span id="line-79"></span><span id="lookupRelationOfKind"><span class="annot"><span class="annottext">lookupRelationOfKind :: RelationKind
-&gt; (NamespaceName, RelationName)
-&gt; DatabaseDescription
-&gt; Maybe RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupRelationOfKind"><span class="hs-identifier hs-var hs-var">lookupRelationOfKind</span></a></span></span><span> </span><span id="local-6989586621679141966"><span class="annot"><span class="annottext">RelationKind
</span><a href="#local-6989586621679141966"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span id="local-6989586621679141967"><span class="annot"><span class="annottext">(NamespaceName, RelationName)
</span><a href="#local-6989586621679141967"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679141968"><span class="annot"><span class="annottext">DatabaseDescription
</span><a href="#local-6989586621679141968"><span class="hs-identifier hs-var">dbDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(NamespaceName, RelationName)
-&gt; Map (NamespaceName, RelationName) RelationDescription
-&gt; Maybe RelationDescription
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">(NamespaceName, RelationName)
</span><a href="#local-6989586621679141967"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseDescription
-&gt; Map (NamespaceName, RelationName) RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#databaseRelations"><span class="hs-identifier hs-var">databaseRelations</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseDescription
</span><a href="#local-6989586621679141968"><span class="hs-identifier hs-var">dbDesc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679141969"><span class="annot"><span class="annottext">RelationDescription
</span><a href="#local-6989586621679141969"><span class="hs-identifier hs-var">relation</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-82"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; RelationKind
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassRelationKind"><span class="hs-identifier hs-var">pgClassRelationKind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelationDescription -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationRecord"><span class="hs-identifier hs-var">relationRecord</span></a></span><span> </span><span class="annot"><span class="annottext">RelationDescription
</span><a href="#local-6989586621679141969"><span class="hs-identifier hs-var">relation</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RelationKind -&gt; RelationKind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RelationKind
</span><a href="#local-6989586621679141966"><span class="hs-identifier hs-var">kind</span></a></span><span>
</span><span id="line-83"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RelationDescription -&gt; Maybe RelationDescription
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">RelationDescription
</span><a href="#local-6989586621679141969"><span class="hs-identifier hs-var">relation</span></a></span><span>
</span><span id="line-84"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe RelationDescription
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">Maybe RelationDescription
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><span class="annottext">Maybe RelationDescription
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="annot"><span class="hs-comment">{- |
  A description of a particular relation in the PostgreSQL database, including
  the attributes of the relation.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">data</span><span> </span><span id="RelationDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-var">RelationDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RelationDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-var">RelationDescription</span></a></span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="relationRecord"><span class="annot"><span class="annottext">RelationDescription -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationRecord"><span class="hs-identifier hs-var hs-var">relationRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="relationAttributes"><span class="annot"><span class="annottext">RelationDescription -&gt; Map AttributeName PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationAttributes"><span class="hs-identifier hs-var hs-var">relationAttributes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeName"><span class="hs-identifier hs-type">AttributeName</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="relationAttributeDefaults"><span class="annot"><span class="annottext">RelationDescription -&gt; Map AttributeNumber PgAttributeDefault
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationAttributeDefaults"><span class="hs-identifier hs-var hs-var">relationAttributeDefaults</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#PgAttributeDefault"><span class="hs-identifier hs-type">PgAttributeDefault</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="relationConstraints"><span class="annot"><span class="annottext">RelationDescription -&gt; [ConstraintDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationConstraints"><span class="hs-identifier hs-var hs-var">relationConstraints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-type">ConstraintDescription</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="relationIndexes"><span class="annot"><span class="annottext">RelationDescription -&gt; [IndexDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationIndexes"><span class="hs-identifier hs-var hs-var">relationIndexes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-type">IndexDescription</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="relationSequence"><span class="annot"><span class="annottext">RelationDescription -&gt; Maybe PgSequence
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationSequence"><span class="hs-identifier hs-var hs-var">relationSequence</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#PgSequence"><span class="hs-identifier hs-type">PgSequence</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><span class="hs-comment">{- |
  Find an attribute by name from the 'RelationDescription'

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttribute"><span class="hs-identifier hs-type">lookupAttribute</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeName"><span class="hs-identifier hs-type">AttributeName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span>
</span><span id="line-112"></span><span id="lookupAttribute"><span class="annot"><span class="annottext">lookupAttribute :: AttributeName -&gt; RelationDescription -&gt; Maybe PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttribute"><span class="hs-identifier hs-var hs-var">lookupAttribute</span></a></span></span><span> </span><span id="local-6989586621679141977"><span class="annot"><span class="annottext">AttributeName
</span><a href="#local-6989586621679141977"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><span class="annottext">AttributeName -&gt; Map AttributeName PgAttribute -&gt; Maybe PgAttribute
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">AttributeName
</span><a href="#local-6989586621679141977"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">(Map AttributeName PgAttribute -&gt; Maybe PgAttribute)
-&gt; (RelationDescription -&gt; Map AttributeName PgAttribute)
-&gt; RelationDescription
-&gt; Maybe PgAttribute
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RelationDescription -&gt; Map AttributeName PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationAttributes"><span class="hs-identifier hs-var">relationAttributes</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><span class="hs-comment">{- |
  Find an attribute default from the 'RelationDescription'

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-120"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttributeDefault"><span class="hs-identifier hs-type">lookupAttributeDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#PgAttributeDefault"><span class="hs-identifier hs-type">PgAttributeDefault</span></a></span><span>
</span><span id="line-124"></span><span id="lookupAttributeDefault"><span class="annot"><span class="annottext">lookupAttributeDefault :: PgAttribute -&gt; RelationDescription -&gt; Maybe PgAttributeDefault
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#lookupAttributeDefault"><span class="hs-identifier hs-var hs-var">lookupAttributeDefault</span></a></span></span><span> </span><span id="local-6989586621679141978"><span class="annot"><span class="annottext">PgAttribute
</span><a href="#local-6989586621679141978"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><span class="annottext">AttributeNumber
-&gt; Map AttributeNumber PgAttributeDefault
-&gt; Maybe PgAttributeDefault
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgAttribute -&gt; AttributeNumber
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeNumber"><span class="hs-identifier hs-var">pgAttributeNumber</span></a></span><span> </span><span class="annot"><span class="annottext">PgAttribute
</span><a href="#local-6989586621679141978"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Map AttributeNumber PgAttributeDefault
 -&gt; Maybe PgAttributeDefault)
-&gt; (RelationDescription -&gt; Map AttributeNumber PgAttributeDefault)
-&gt; RelationDescription
-&gt; Maybe PgAttributeDefault
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RelationDescription -&gt; Map AttributeNumber PgAttributeDefault
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#relationAttributeDefaults"><span class="hs-identifier hs-var">relationAttributeDefaults</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="annot"><span class="hs-comment">{- |
  A description of a particular constraint in the PostgreSQL database, including
  the attributes and relations that it references.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-133"></span><span class="hs-keyword">data</span><span> </span><span id="ConstraintDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-var">ConstraintDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ConstraintDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-var">ConstraintDescription</span></a></span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="constraintRecord"><span class="annot"><span class="annottext">ConstraintDescription -&gt; PgConstraint
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#constraintRecord"><span class="hs-identifier hs-var hs-var">constraintRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#PgConstraint"><span class="hs-identifier hs-type">PgConstraint</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="constraintKey"><span class="annot"><span class="annottext">ConstraintDescription -&gt; Maybe [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#constraintKey"><span class="hs-identifier hs-var hs-var">constraintKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="constraintForeignRelation"><span class="annot"><span class="annottext">ConstraintDescription -&gt; Maybe ForeignRelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#constraintForeignRelation"><span class="hs-identifier hs-var hs-var">constraintForeignRelation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier hs-type">ForeignRelationDescription</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="constraintForeignKey"><span class="annot"><span class="annottext">ConstraintDescription -&gt; Maybe [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#constraintForeignKey"><span class="hs-identifier hs-var hs-var">constraintForeignKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><span class="hs-comment">{- |
  A description of a relation in the PostgreSQL database that is referenced by
  a foreign key constraint, including the namespace that the relation belongs to.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-146"></span><span class="hs-keyword">data</span><span> </span><span id="ForeignRelationDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier hs-var">ForeignRelationDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ForeignRelationDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier hs-var">ForeignRelationDescription</span></a></span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="foreignRelationClass"><span class="annot"><span class="annottext">ForeignRelationDescription -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#foreignRelationClass"><span class="hs-identifier hs-var hs-var">foreignRelationClass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRelationNamespace"><span class="annot"><span class="annottext">ForeignRelationDescription -&gt; PgNamespace
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#foreignRelationNamespace"><span class="hs-identifier hs-var hs-var">foreignRelationNamespace</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#PgNamespace"><span class="hs-identifier hs-type">PgNamespace</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><span class="hs-comment">{- |
  A description of an index in the PostgreSQL database, including the names of
  the attributes included in the index and the 'PgClass' record of the index
  itself (NOT the 'PgClass' of the table that the index is for).

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-158"></span><span class="hs-keyword">data</span><span> </span><span id="IndexDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-var">IndexDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IndexDescription"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-var">IndexDescription</span></a></span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="indexRecord"><span class="annot"><span class="annottext">IndexDescription -&gt; PgIndex
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexRecord"><span class="hs-identifier hs-var hs-var">indexRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier hs-type">PgIndex</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="indexPgClass"><span class="annot"><span class="annottext">IndexDescription -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexPgClass"><span class="hs-identifier hs-var hs-var">indexPgClass</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="indexMembers"><span class="annot"><span class="annottext">IndexDescription -&gt; [IndexMember]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexMembers"><span class="hs-identifier hs-var hs-var">indexMembers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-type">IndexMember</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">{- |
  A description of an index member in the PostgreSQL database. If they member
  is a simple attribute, the 'PgAttribute' for that is provided. If it is an
  index over an expression, no further description is currently provided.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-171"></span><span class="hs-keyword">data</span><span> </span><span id="IndexMember"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-var">IndexMember</span></a></span></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IndexAttribute"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexAttribute"><span class="hs-identifier hs-var">IndexAttribute</span></a></span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IndexExpression"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexExpression"><span class="hs-identifier hs-var">IndexExpression</span></a></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><span class="hs-comment">{- |
  Describes the requested relations in the current database. If any of the
  relations do not exist, they will not have an entry in the returned
  description.

  Each 'RelationDescription' will contain all the attributes that currently
  exist for that relation, according to the @pg_catalog@ tables.

@since 1.0.0.0
-}</span></span><span>
</span><span id="line-185"></span><span id="local-6989586621679141714"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeDatabaseRelations"><span class="hs-identifier hs-type">describeDatabaseRelations</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.Monad.MonadOrville.html#MonadOrville"><span class="hs-identifier hs-type">Orville.MonadOrville</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141714"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="#local-6989586621679141714"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-type">DatabaseDescription</span></a></span></span><span>
</span><span id="line-189"></span><span id="describeDatabaseRelations"><span class="annot"><span class="annottext">describeDatabaseRelations :: forall (m :: * -&gt; *).
MonadOrville m =&gt;
[(NamespaceName, RelationName)] -&gt; m DatabaseDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeDatabaseRelations"><span class="hs-identifier hs-var hs-var">describeDatabaseRelations</span></a></span></span><span> </span><span id="local-6989586621679142003"><span class="annot"><span class="annottext">[(NamespaceName, RelationName)]
</span><a href="#local-6989586621679142003"><span class="hs-identifier hs-var">relations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679142004"><span class="annot"><span class="annottext">Many (NamespaceName, RelationName) (Maybe RelationDescription)
</span><a href="#local-6989586621679142004"><span class="hs-identifier hs-var">manyRelations</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><span class="annottext">Plan
  Execute
  [(NamespaceName, RelationName)]
  (Many (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; [(NamespaceName, RelationName)]
-&gt; m (Many
        (NamespaceName, RelationName) (Maybe RelationDescription))
forall (m :: * -&gt; *) param result.
MonadOrville m =&gt;
Plan Execute param result -&gt; param -&gt; m result
</span><a href="Orville.PostgreSQL.Plan.html#execute"><span class="hs-identifier hs-var">Plan.execute</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall manyScope.
 Plan
   manyScope
   (NamespaceName, RelationName)
   (Maybe RelationDescription))
-&gt; Plan
     Execute
     [(NamespaceName, RelationName)]
     (Many (NamespaceName, RelationName) (Maybe RelationDescription))
forall param result scope.
(forall manyScope. Plan manyScope param result)
-&gt; Plan scope [param] (Many param result)
</span><a href="Orville.PostgreSQL.Plan.html#planMany"><span class="hs-identifier hs-var">Plan.planMany</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  manyScope (NamespaceName, RelationName) (Maybe RelationDescription)
forall manyScope.
Plan
  manyScope (NamespaceName, RelationName) (Maybe RelationDescription)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByName"><span class="hs-identifier hs-var">describeRelationByName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">[(NamespaceName, RelationName)]
</span><a href="#local-6989586621679142003"><span class="hs-identifier hs-var">relations</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679142011"><span class="annot"><span class="annottext">relationsMap :: Map (NamespaceName, RelationName) RelationDescription
</span><a href="#local-6989586621679142011"><span class="hs-identifier hs-var hs-var">relationsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">(Maybe RelationDescription -&gt; Maybe RelationDescription)
-&gt; Map (NamespaceName, RelationName) (Maybe RelationDescription)
-&gt; Map (NamespaceName, RelationName) RelationDescription
forall a b k. (a -&gt; Maybe b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">Map.mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">Maybe RelationDescription -&gt; Maybe RelationDescription
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">(Map (NamespaceName, RelationName) (Maybe RelationDescription)
 -&gt; Map (NamespaceName, RelationName) RelationDescription)
-&gt; (Many (NamespaceName, RelationName) (Maybe RelationDescription)
    -&gt; Map (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Many (NamespaceName, RelationName) (Maybe RelationDescription)
-&gt; Map (NamespaceName, RelationName) RelationDescription
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Many (NamespaceName, RelationName) (Maybe RelationDescription)
-&gt; Map (NamespaceName, RelationName) (Maybe RelationDescription)
forall k a. Ord k =&gt; Many k a -&gt; Map k a
</span><a href="Orville.PostgreSQL.Plan.Many.html#toMap"><span class="hs-identifier hs-var">Many.toMap</span></a></span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><span class="annottext">(Many (NamespaceName, RelationName) (Maybe RelationDescription)
 -&gt; Map (NamespaceName, RelationName) RelationDescription)
-&gt; Many (NamespaceName, RelationName) (Maybe RelationDescription)
-&gt; Map (NamespaceName, RelationName) RelationDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Many (NamespaceName, RelationName) (Maybe RelationDescription)
</span><a href="#local-6989586621679142004"><span class="hs-identifier hs-var">manyRelations</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><span class="annottext">DatabaseDescription -&gt; m DatabaseDescription
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DatabaseDescription -&gt; m DatabaseDescription)
-&gt; DatabaseDescription -&gt; m DatabaseDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-202"></span><span>    </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#DatabaseDescription"><span class="hs-identifier hs-type">DatabaseDescription</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">databaseRelations :: Map (NamespaceName, RelationName) RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#databaseRelations"><span class="hs-identifier hs-var">databaseRelations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (NamespaceName, RelationName) RelationDescription
</span><a href="#local-6989586621679142011"><span class="hs-identifier hs-var">relationsMap</span></a></span><span>
</span><span id="line-204"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span id="local-6989586621679142015"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByName"><span class="hs-identifier hs-type">describeRelationByName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142015"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-207"></span><span id="describeRelationByName"><span class="annot"><span class="annottext">describeRelationByName :: forall manyScope.
Plan
  manyScope (NamespaceName, RelationName) (Maybe RelationDescription)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByName"><span class="hs-identifier hs-var hs-var">describeRelationByName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">Plan scope (NamespaceName, RelationName) NamespaceName
-&gt; (Planned scope (NamespaceName, RelationName) NamespaceName
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamespaceName, RelationName) -&gt; NamespaceName
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((NamespaceName, RelationName) -&gt; NamespaceName)
-&gt; Plan
     scope (NamespaceName, RelationName) (NamespaceName, RelationName)
-&gt; Plan scope (NamespaceName, RelationName) NamespaceName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (NamespaceName, RelationName) (NamespaceName, RelationName)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (NamespaceName, RelationName) NamespaceName
  -&gt; Plan
       scope (NamespaceName, RelationName) (Maybe RelationDescription))
 -&gt; Plan
      scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; (Planned scope (NamespaceName, RelationName) NamespaceName
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142023"><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) NamespaceName
</span><a href="#local-6989586621679142023"><span class="hs-identifier hs-var">namespaceName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><span class="annottext">Plan scope (NamespaceName, RelationName) RelationName
-&gt; (Planned scope (NamespaceName, RelationName) RelationName
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NamespaceName, RelationName) -&gt; RelationName
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((NamespaceName, RelationName) -&gt; RelationName)
-&gt; Plan
     scope (NamespaceName, RelationName) (NamespaceName, RelationName)
-&gt; Plan scope (NamespaceName, RelationName) RelationName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (NamespaceName, RelationName) (NamespaceName, RelationName)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (NamespaceName, RelationName) RelationName
  -&gt; Plan
       scope (NamespaceName, RelationName) (Maybe RelationDescription))
 -&gt; Plan
      scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; (Planned scope (NamespaceName, RelationName) RelationName
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142025"><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) RelationName
</span><a href="#local-6989586621679142025"><span class="hs-identifier hs-var">relationName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>      </span><span class="annot"><span class="annottext">Plan scope (NamespaceName, RelationName) PgNamespace
-&gt; (Planned scope (NamespaceName, RelationName) PgNamespace
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) NamespaceName
-&gt; Plan scope NamespaceName PgNamespace
-&gt; Plan scope (NamespaceName, RelationName) PgNamespace
forall scope param a b.
Planned scope param a -&gt; Plan scope a b -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#using"><span class="hs-identifier hs-var">Plan.using</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) NamespaceName
</span><a href="#local-6989586621679142023"><span class="hs-identifier hs-var">namespaceName</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope NamespaceName PgNamespace
forall scope. Plan scope NamespaceName PgNamespace
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findNamespace"><span class="hs-identifier hs-var">findNamespace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (NamespaceName, RelationName) PgNamespace
  -&gt; Plan
       scope (NamespaceName, RelationName) (Maybe RelationDescription))
 -&gt; Plan
      scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; (Planned scope (NamespaceName, RelationName) PgNamespace
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142028"><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) PgNamespace
</span><a href="#local-6989586621679142028"><span class="hs-identifier hs-var">namespace</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-211"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-212"></span><span>          </span><span id="local-6989586621679142032"><span class="annot"><span class="annottext">namespaceAndRelName :: Plan
  scope (NamespaceName, RelationName) (PgNamespace, RelationName)
</span><a href="#local-6989586621679142032"><span class="hs-identifier hs-var hs-var">namespaceAndRelName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-213"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PgNamespace -&gt; RelationName -&gt; (PgNamespace, RelationName))
-&gt; Plan scope (NamespaceName, RelationName) PgNamespace
-&gt; Plan
     scope
     (NamespaceName, RelationName)
     (RelationName -&gt; (PgNamespace, RelationName))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) PgNamespace
-&gt; Plan scope (NamespaceName, RelationName) PgNamespace
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) PgNamespace
</span><a href="#local-6989586621679142028"><span class="hs-identifier hs-var">namespace</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (NamespaceName, RelationName)
  (RelationName -&gt; (PgNamespace, RelationName))
-&gt; Plan scope (NamespaceName, RelationName) RelationName
-&gt; Plan
     scope (NamespaceName, RelationName) (PgNamespace, RelationName)
forall a b.
Plan scope (NamespaceName, RelationName) (a -&gt; b)
-&gt; Plan scope (NamespaceName, RelationName) a
-&gt; Plan scope (NamespaceName, RelationName) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) RelationName
-&gt; Plan scope (NamespaceName, RelationName) RelationName
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) RelationName
</span><a href="#local-6989586621679142025"><span class="hs-identifier hs-var">relationName</span></a></span><span>
</span><span id="line-214"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-215"></span><span>          </span><span class="annot"><span class="annottext">Plan scope (NamespaceName, RelationName) (Maybe PgClass)
-&gt; (Planned scope (NamespaceName, RelationName) (Maybe PgClass)
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Plan
  scope (NamespaceName, RelationName) (PgNamespace, RelationName)
-&gt; Plan scope (PgNamespace, RelationName) (Maybe PgClass)
-&gt; Plan scope (NamespaceName, RelationName) (Maybe PgClass)
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (NamespaceName, RelationName) (PgNamespace, RelationName)
</span><a href="#local-6989586621679142032"><span class="hs-identifier hs-var">namespaceAndRelName</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgNamespace, RelationName) (Maybe PgClass)
forall scope.
Plan scope (PgNamespace, RelationName) (Maybe PgClass)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findRelation"><span class="hs-identifier hs-var">findRelation</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (NamespaceName, RelationName) (Maybe PgClass)
  -&gt; Plan
       scope (NamespaceName, RelationName) (Maybe RelationDescription))
 -&gt; Plan
      scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; (Planned scope (NamespaceName, RelationName) (Maybe PgClass)
    -&gt; Plan
         scope (NamespaceName, RelationName) (Maybe RelationDescription))
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142036"><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) (Maybe PgClass)
</span><a href="#local-6989586621679142036"><span class="hs-identifier hs-var">maybePgClass</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-216"></span><span>            </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) (Maybe PgClass)
-&gt; Plan scope (Maybe PgClass) (Maybe RelationDescription)
-&gt; Plan
     scope (NamespaceName, RelationName) (Maybe RelationDescription)
forall scope param a b.
Planned scope param a -&gt; Plan scope a b -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#using"><span class="hs-identifier hs-var">Plan.using</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (NamespaceName, RelationName) (Maybe PgClass)
</span><a href="#local-6989586621679142036"><span class="hs-identifier hs-var">maybePgClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Plan scope PgClass RelationDescription
-&gt; Plan scope (Maybe PgClass) (Maybe RelationDescription)
forall scope a b. Plan scope a b -&gt; Plan scope (Maybe a) (Maybe b)
</span><a href="Orville.PostgreSQL.Plan.html#planMaybe"><span class="hs-identifier hs-var">Plan.planMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass RelationDescription
forall scope. Plan scope PgClass RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByClass"><span class="hs-identifier hs-var">describeRelationByClass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span id="local-6989586621679141781"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByClass"><span class="hs-identifier hs-type">describeRelationByClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141781"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-type">RelationDescription</span></a></span></span><span>
</span><span id="line-219"></span><span id="describeRelationByClass"><span class="annot"><span class="annottext">describeRelationByClass :: forall scope. Plan scope PgClass RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeRelationByClass"><span class="hs-identifier hs-var hs-var">describeRelationByClass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-220"></span><span>  </span><span class="annot"><span class="annottext">Plan scope PgClass PgClass
-&gt; (Planned scope PgClass PgClass
    -&gt; Plan scope PgClass RelationDescription)
-&gt; Plan scope PgClass RelationDescription
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClass
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span> </span><span class="annot"><span class="annottext">((Planned scope PgClass PgClass
  -&gt; Plan scope PgClass RelationDescription)
 -&gt; Plan scope PgClass RelationDescription)
-&gt; (Planned scope PgClass PgClass
    -&gt; Plan scope PgClass RelationDescription)
-&gt; Plan scope PgClass RelationDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142050"><span class="annot"><span class="annottext">Planned scope PgClass PgClass
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">pgClass</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><span class="annottext">Plan scope PgClass [PgAttribute]
-&gt; (Planned scope PgClass [PgAttribute]
    -&gt; Plan scope PgClass RelationDescription)
-&gt; Plan scope PgClass RelationDescription
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass [PgAttribute]
forall scope. Plan scope PgClass [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributes"><span class="hs-identifier hs-var">findClassAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">((Planned scope PgClass [PgAttribute]
  -&gt; Plan scope PgClass RelationDescription)
 -&gt; Plan scope PgClass RelationDescription)
-&gt; (Planned scope PgClass [PgAttribute]
    -&gt; Plan scope PgClass RelationDescription)
-&gt; Plan scope PgClass RelationDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142052"><span class="annot"><span class="annottext">Planned scope PgClass [PgAttribute]
</span><a href="#local-6989586621679142052"><span class="hs-identifier hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-222"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-223"></span><span>        </span><span id="local-6989586621679142055"><span class="annot"><span class="annottext">classAndAttributes :: Plan scope PgClass PgClassAndAttributes
</span><a href="#local-6989586621679142055"><span class="hs-identifier hs-var hs-var">classAndAttributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-224"></span><span>          </span><span class="annot"><span class="annottext">PgClass -&gt; [PgAttribute] -&gt; PgClassAndAttributes
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#mkPgClassAndAttributes"><span class="hs-identifier hs-var">mkPgClassAndAttributes</span></a></span><span>
</span><span id="line-225"></span><span>            </span><span class="annot"><span class="annottext">(PgClass -&gt; [PgAttribute] -&gt; PgClassAndAttributes)
-&gt; Plan scope PgClass PgClass
-&gt; Plan scope PgClass ([PgAttribute] -&gt; PgClassAndAttributes)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass -&gt; Plan scope PgClass PgClass
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">pgClass</span></a></span><span>
</span><span id="line-226"></span><span>            </span><span class="annot"><span class="annottext">Plan scope PgClass ([PgAttribute] -&gt; PgClassAndAttributes)
-&gt; Plan scope PgClass [PgAttribute]
-&gt; Plan scope PgClass PgClassAndAttributes
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass [PgAttribute]
-&gt; Plan scope PgClass [PgAttribute]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass [PgAttribute]
</span><a href="#local-6989586621679142052"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><span class="annottext">PgClass
-&gt; Map AttributeName PgAttribute
-&gt; Map AttributeNumber PgAttributeDefault
-&gt; [ConstraintDescription]
-&gt; [IndexDescription]
-&gt; Maybe PgSequence
-&gt; RelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#RelationDescription"><span class="hs-identifier hs-var">RelationDescription</span></a></span><span>
</span><span id="line-229"></span><span>          </span><span class="annot"><span class="annottext">(PgClass
 -&gt; Map AttributeName PgAttribute
 -&gt; Map AttributeNumber PgAttributeDefault
 -&gt; [ConstraintDescription]
 -&gt; [IndexDescription]
 -&gt; Maybe PgSequence
 -&gt; RelationDescription)
-&gt; Plan scope PgClass PgClass
-&gt; Plan
     scope
     PgClass
     (Map AttributeName PgAttribute
      -&gt; Map AttributeNumber PgAttributeDefault
      -&gt; [ConstraintDescription]
      -&gt; [IndexDescription]
      -&gt; Maybe PgSequence
      -&gt; RelationDescription)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass -&gt; Plan scope PgClass PgClass
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">pgClass</span></a></span><span>
</span><span id="line-230"></span><span>          </span><span class="annot"><span class="annottext">Plan
  scope
  PgClass
  (Map AttributeName PgAttribute
   -&gt; Map AttributeNumber PgAttributeDefault
   -&gt; [ConstraintDescription]
   -&gt; [IndexDescription]
   -&gt; Maybe PgSequence
   -&gt; RelationDescription)
-&gt; Plan scope PgClass (Map AttributeName PgAttribute)
-&gt; Plan
     scope
     PgClass
     (Map AttributeNumber PgAttributeDefault
      -&gt; [ConstraintDescription]
      -&gt; [IndexDescription]
      -&gt; Maybe PgSequence
      -&gt; RelationDescription)
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass (Map AttributeName PgAttribute)
-&gt; Plan scope PgClass (Map AttributeName PgAttribute)
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([PgAttribute] -&gt; Map AttributeName PgAttribute)
-&gt; Planned scope PgClass [PgAttribute]
-&gt; Planned scope PgClass (Map AttributeName PgAttribute)
forall a b.
(a -&gt; b) -&gt; Planned scope PgClass a -&gt; Planned scope PgClass b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgAttribute -&gt; AttributeName)
-&gt; [PgAttribute] -&gt; Map AttributeName PgAttribute
forall key row. Ord key =&gt; (row -&gt; key) -&gt; [row] -&gt; Map key row
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexBy"><span class="hs-identifier hs-var">indexBy</span></a></span><span> </span><span class="annot"><span class="annottext">PgAttribute -&gt; AttributeName
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeName"><span class="hs-identifier hs-var">pgAttributeName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass [PgAttribute]
</span><a href="#local-6989586621679142052"><span class="hs-identifier hs-var">attributes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>          </span><span class="annot"><span class="annottext">Plan
  scope
  PgClass
  (Map AttributeNumber PgAttributeDefault
   -&gt; [ConstraintDescription]
   -&gt; [IndexDescription]
   -&gt; Maybe PgSequence
   -&gt; RelationDescription)
-&gt; Plan scope PgClass (Map AttributeNumber PgAttributeDefault)
-&gt; Plan
     scope
     PgClass
     ([ConstraintDescription]
      -&gt; [IndexDescription] -&gt; Maybe PgSequence -&gt; RelationDescription)
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">([PgAttributeDefault] -&gt; Map AttributeNumber PgAttributeDefault)
-&gt; Plan scope PgClass [PgAttributeDefault]
-&gt; Plan scope PgClass (Map AttributeNumber PgAttributeDefault)
forall a b.
(a -&gt; b) -&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgAttributeDefault -&gt; AttributeNumber)
-&gt; [PgAttributeDefault] -&gt; Map AttributeNumber PgAttributeDefault
forall key row. Ord key =&gt; (row -&gt; key) -&gt; [row] -&gt; Map key row
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexBy"><span class="hs-identifier hs-var">indexBy</span></a></span><span> </span><span class="annot"><span class="annottext">PgAttributeDefault -&gt; AttributeNumber
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#pgAttributeDefaultAttributeNumber"><span class="hs-identifier hs-var">pgAttributeDefaultAttributeNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass [PgAttributeDefault]
forall scope. Plan scope PgClass [PgAttributeDefault]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributeDefaults"><span class="hs-identifier hs-var">findClassAttributeDefaults</span></a></span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">Plan
  scope
  PgClass
  ([ConstraintDescription]
   -&gt; [IndexDescription] -&gt; Maybe PgSequence -&gt; RelationDescription)
-&gt; Plan scope PgClass [ConstraintDescription]
-&gt; Plan
     scope
     PgClass
     ([IndexDescription] -&gt; Maybe PgSequence -&gt; RelationDescription)
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClassAndAttributes
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
-&gt; Plan scope PgClass [ConstraintDescription]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClassAndAttributes
</span><a href="#local-6989586621679142055"><span class="hs-identifier hs-var">classAndAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [ConstraintDescription]
forall scope.
Plan scope PgClassAndAttributes [ConstraintDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassConstraints"><span class="hs-identifier hs-var">findClassConstraints</span></a></span><span>
</span><span id="line-233"></span><span>          </span><span class="annot"><span class="annottext">Plan
  scope
  PgClass
  ([IndexDescription] -&gt; Maybe PgSequence -&gt; RelationDescription)
-&gt; Plan scope PgClass [IndexDescription]
-&gt; Plan scope PgClass (Maybe PgSequence -&gt; RelationDescription)
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClassAndAttributes
-&gt; Plan scope PgClassAndAttributes [IndexDescription]
-&gt; Plan scope PgClass [IndexDescription]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClassAndAttributes
</span><a href="#local-6989586621679142055"><span class="hs-identifier hs-var">classAndAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [IndexDescription]
forall scope. Plan scope PgClassAndAttributes [IndexDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassIndexes"><span class="hs-identifier hs-var">findClassIndexes</span></a></span><span>
</span><span id="line-234"></span><span>          </span><span class="annot"><span class="annottext">Plan scope PgClass (Maybe PgSequence -&gt; RelationDescription)
-&gt; Plan scope PgClass (Maybe PgSequence)
-&gt; Plan scope PgClass RelationDescription
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass
-&gt; Plan scope PgClass (Maybe PgSequence)
-&gt; Plan scope PgClass (Maybe PgSequence)
forall scope param a b.
Planned scope param a -&gt; Plan scope a b -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#using"><span class="hs-identifier hs-var">Plan.using</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClass PgClass
</span><a href="#local-6989586621679142050"><span class="hs-identifier hs-var">pgClass</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass (Maybe PgSequence)
forall scope. Plan scope PgClass (Maybe PgSequence)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassSequence"><span class="hs-identifier hs-var">findClassSequence</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span id="local-6989586621679141777"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findRelation"><span class="hs-identifier hs-type">findRelation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141777"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#PgNamespace"><span class="hs-identifier hs-type">PgNamespace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-237"></span><span id="findRelation"><span class="annot"><span class="annottext">findRelation :: forall scope.
Plan scope (PgNamespace, RelationName) (Maybe PgClass)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findRelation"><span class="hs-identifier hs-var hs-var">findRelation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="annottext">((PgNamespace, RelationName) -&gt; (Oid, RelationName))
-&gt; Plan scope (Oid, RelationName) (Maybe PgClass)
-&gt; Plan scope (PgNamespace, RelationName) (Maybe PgClass)
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679142064"><span class="annot"><span class="annottext">PgNamespace
</span><a href="#local-6989586621679142064"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142065"><span class="annot"><span class="annottext">RelationName
</span><a href="#local-6989586621679142065"><span class="hs-identifier hs-var">relname</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgNamespace -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#pgNamespaceOid"><span class="hs-identifier hs-var">pgNamespaceOid</span></a></span><span> </span><span class="annot"><span class="annottext">PgNamespace
</span><a href="#local-6989586621679142064"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RelationName
</span><a href="#local-6989586621679142065"><span class="hs-identifier hs-var">relname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Plan scope (Oid, RelationName) (Maybe PgClass)
 -&gt; Plan scope (PgNamespace, RelationName) (Maybe PgClass))
-&gt; Plan scope (Oid, RelationName) (Maybe PgClass)
-&gt; Plan scope (PgNamespace, RelationName) (Maybe PgClass)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><span class="annottext">Operation (Oid, RelationName) (Maybe PgClass)
-&gt; Plan scope (Oid, RelationName) (Maybe PgClass)
forall param result scope.
Operation param result -&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#planOperation"><span class="hs-identifier hs-var">Plan.planOperation</span></a></span><span> </span><span class="annot"><span class="annottext">(Operation (Oid, RelationName) (Maybe PgClass)
 -&gt; Plan scope (Oid, RelationName) (Maybe PgClass))
-&gt; Operation (Oid, RelationName) (Maybe PgClass)
-&gt; Plan scope (Oid, RelationName) (Maybe PgClass)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
-&gt; WherePlanner (Oid, RelationName)
-&gt; Operation (Oid, RelationName) (Maybe PgClass)
forall param key writeEntity readEntity.
Ord param =&gt;
TableDefinition key writeEntity readEntity
-&gt; WherePlanner param -&gt; Operation param (Maybe readEntity)
</span><a href="Orville.PostgreSQL.Plan.Operation.html#findOne"><span class="hs-identifier hs-var">Op.findOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassTable"><span class="hs-identifier hs-var">pgClassTable</span></a></span><span> </span><span class="annot"><span class="annottext">WherePlanner (Oid, RelationName)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#byNamespaceOidAndRelationName"><span class="hs-identifier hs-var">byNamespaceOidAndRelationName</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#byNamespaceOidAndRelationName"><span class="hs-identifier hs-type">byNamespaceOidAndRelationName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.Operation.html#WherePlanner"><span class="hs-identifier hs-type">Op.WherePlanner</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LibPQ.Oid</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#RelationName"><span class="hs-identifier hs-type">RelationName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="byNamespaceOidAndRelationName"><span class="annot"><span class="annottext">byNamespaceOidAndRelationName :: WherePlanner (Oid, RelationName)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#byNamespaceOidAndRelationName"><span class="hs-identifier hs-var hs-var">byNamespaceOidAndRelationName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
-&gt; FieldDefinition NotNull RelationName
-&gt; WherePlanner (Oid, RelationName)
forall nullabilityA fieldValueA nullabilityB fieldValueB.
(Ord fieldValueA, Ord fieldValueB) =&gt;
FieldDefinition nullabilityA fieldValueA
-&gt; FieldDefinition nullabilityB fieldValueB
-&gt; WherePlanner (fieldValueA, fieldValueB)
</span><a href="Orville.PostgreSQL.Plan.Operation.html#byFieldTuple"><span class="hs-identifier hs-var">Op.byFieldTuple</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#namespaceOidField"><span class="hs-identifier hs-var">namespaceOidField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull RelationName
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#relationNameField"><span class="hs-identifier hs-var">relationNameField</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span id="local-6989586621679141764"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findNamespace"><span class="hs-identifier hs-type">findNamespace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141764"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#NamespaceName"><span class="hs-identifier hs-type">NamespaceName</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#PgNamespace"><span class="hs-identifier hs-type">PgNamespace</span></a></span></span><span>
</span><span id="line-247"></span><span id="findNamespace"><span class="annot"><span class="annottext">findNamespace :: forall scope. Plan scope NamespaceName PgNamespace
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findNamespace"><span class="hs-identifier hs-var hs-var">findNamespace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgNamespace PgNamespace
-&gt; FieldDefinition NotNull NamespaceName
-&gt; Plan scope NamespaceName PgNamespace
forall fieldValue key writeEntity readEntity nullability scope.
(Show fieldValue, Ord fieldValue) =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue readEntity
</span><a href="Orville.PostgreSQL.Plan.html#findOne"><span class="hs-identifier hs-var">Plan.findOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgNamespace PgNamespace
</span><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#pgNamespaceTable"><span class="hs-identifier hs-var">pgNamespaceTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull NamespaceName
</span><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#namespaceNameField"><span class="hs-identifier hs-var">namespaceNameField</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span id="local-6989586621679141785"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributes"><span class="hs-identifier hs-type">findClassAttributes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141785"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-251"></span><span id="findClassAttributes"><span class="annot"><span class="annottext">findClassAttributes :: forall scope. Plan scope PgClass [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributes"><span class="hs-identifier hs-var hs-var">findClassAttributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; Plan scope Oid [PgAttribute] -&gt; Plan scope PgClass [PgAttribute]
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier hs-var">pgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid [PgAttribute] -&gt; Plan scope PgClass [PgAttribute])
-&gt; Plan scope Oid [PgAttribute] -&gt; Plan scope PgClass [PgAttribute]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">TableDefinition NoKey PgAttribute PgAttribute
-&gt; FieldDefinition NotNull Oid
-&gt; BooleanExpr
-&gt; Plan scope Oid [PgAttribute]
forall fieldValue key writeEntity readEntity nullability scope.
Ord fieldValue =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; BooleanExpr
-&gt; Plan scope fieldValue [readEntity]
</span><a href="Orville.PostgreSQL.Plan.html#findAllWhere"><span class="hs-identifier hs-var">Plan.findAllWhere</span></a></span><span>
</span><span id="line-254"></span><span>      </span><span class="annot"><span class="annottext">TableDefinition NoKey PgAttribute PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeTable"><span class="hs-identifier hs-var">pgAttributeTable</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeRelationOidField"><span class="hs-identifier hs-var">attributeRelationOidField</span></a></span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition NotNull Bool -&gt; Bool -&gt; BooleanExpr
forall nullability a.
FieldDefinition nullability a -&gt; a -&gt; BooleanExpr
</span><a href="Orville.PostgreSQL.Marshall.FieldDefinition.html#fieldEquals"><span class="hs-identifier hs-var">Orville.fieldEquals</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Bool
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeIsDroppedField"><span class="hs-identifier hs-var">attributeIsDroppedField</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621679141792"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributeDefaults"><span class="hs-identifier hs-type">findClassAttributeDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141792"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#PgAttributeDefault"><span class="hs-identifier hs-type">PgAttributeDefault</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-259"></span><span id="findClassAttributeDefaults"><span class="annot"><span class="annottext">findClassAttributeDefaults :: forall scope. Plan scope PgClass [PgAttributeDefault]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributeDefaults"><span class="hs-identifier hs-var hs-var">findClassAttributeDefaults</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; Plan scope Oid [PgAttributeDefault]
-&gt; Plan scope PgClass [PgAttributeDefault]
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier hs-var">pgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid [PgAttributeDefault]
 -&gt; Plan scope PgClass [PgAttributeDefault])
-&gt; Plan scope Oid [PgAttributeDefault]
-&gt; Plan scope PgClass [PgAttributeDefault]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><span class="annottext">TableDefinition NoKey PgAttributeDefault PgAttributeDefault
-&gt; FieldDefinition NotNull Oid
-&gt; Plan scope Oid [PgAttributeDefault]
forall fieldValue key writeEntity readEntity nullability scope.
Ord fieldValue =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue [readEntity]
</span><a href="Orville.PostgreSQL.Plan.html#findAll"><span class="hs-identifier hs-var">Plan.findAll</span></a></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><span class="annottext">TableDefinition NoKey PgAttributeDefault PgAttributeDefault
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#pgAttributeDefaultTable"><span class="hs-identifier hs-var">pgAttributeDefaultTable</span></a></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttributeDefault.html#attributeDefaultRelationOidField"><span class="hs-identifier hs-var">attributeDefaultRelationOidField</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span id="local-6989586621679141793"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassConstraints"><span class="hs-identifier hs-type">findClassConstraints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141793"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-type">ConstraintDescription</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-266"></span><span id="findClassConstraints"><span class="annot"><span class="annottext">findClassConstraints :: forall scope.
Plan scope PgClassAndAttributes [ConstraintDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassConstraints"><span class="hs-identifier hs-var hs-var">findClassConstraints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-268"></span><span>    </span><span id="local-6989586621679142083"><span class="annot"><span class="annottext">relationOid :: PgClassAndAttributes -&gt; Oid
</span><a href="#local-6989586621679142083"><span class="hs-identifier hs-var hs-var">relationOid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier hs-var">pgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; (PgClassAndAttributes -&gt; PgClass) -&gt; PgClassAndAttributes -&gt; Oid
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassRecord"><span class="hs-identifier hs-var">pgClassRecord</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [PgConstraint]
-&gt; (Planned scope PgClassAndAttributes [PgConstraint]
    -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; Oid)
-&gt; Plan scope Oid [PgConstraint]
-&gt; Plan scope PgClassAndAttributes [PgConstraint]
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; Oid
</span><a href="#local-6989586621679142083"><span class="hs-identifier hs-var">relationOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid [PgConstraint]
 -&gt; Plan scope PgClassAndAttributes [PgConstraint])
-&gt; Plan scope Oid [PgConstraint]
-&gt; Plan scope PgClassAndAttributes [PgConstraint]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgConstraint PgConstraint
-&gt; FieldDefinition NotNull Oid -&gt; Plan scope Oid [PgConstraint]
forall fieldValue key writeEntity readEntity nullability scope.
Ord fieldValue =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue [readEntity]
</span><a href="Orville.PostgreSQL.Plan.html#findAll"><span class="hs-identifier hs-var">Plan.findAll</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgConstraint PgConstraint
</span><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintTable"><span class="hs-identifier hs-var">pgConstraintTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#constraintRelationOidField"><span class="hs-identifier hs-var">constraintRelationOidField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope PgClassAndAttributes [PgConstraint]
  -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
 -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; (Planned scope PgClassAndAttributes [PgConstraint]
    -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142085"><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes [PgConstraint]
</span><a href="#local-6989586621679142085"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-272"></span><span>      </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes PgClassAndAttributes
-&gt; (Planned scope PgClassAndAttributes PgClassAndAttributes
    -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes PgClassAndAttributes
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span> </span><span class="annot"><span class="annottext">((Planned scope PgClassAndAttributes PgClassAndAttributes
  -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
 -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; (Planned scope PgClassAndAttributes PgClassAndAttributes
    -&gt; Plan scope PgClassAndAttributes [ConstraintDescription])
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142086"><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes PgClassAndAttributes
</span><a href="#local-6989586621679142086"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>        </span><span class="annot"><span class="annottext">Plan
  scope PgClassAndAttributes [(PgClassAndAttributes, PgConstraint)]
-&gt; Plan
     scope
     [(PgClassAndAttributes, PgConstraint)]
     [ConstraintDescription]
-&gt; Plan scope PgClassAndAttributes [ConstraintDescription]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span>
</span><span id="line-274"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PgClassAndAttributes]
-&gt; [PgConstraint] -&gt; [(PgClassAndAttributes, PgConstraint)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">([PgClassAndAttributes]
 -&gt; [PgConstraint] -&gt; [(PgClassAndAttributes, PgConstraint)])
-&gt; Plan scope PgClassAndAttributes [PgClassAndAttributes]
-&gt; Plan
     scope
     PgClassAndAttributes
     ([PgConstraint] -&gt; [(PgClassAndAttributes, PgConstraint)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes [PgClassAndAttributes]
-&gt; Plan scope PgClassAndAttributes [PgClassAndAttributes]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; [PgClassAndAttributes])
-&gt; Planned scope PgClassAndAttributes PgClassAndAttributes
-&gt; Planned scope PgClassAndAttributes [PgClassAndAttributes]
forall a b.
(a -&gt; b)
-&gt; Planned scope PgClassAndAttributes a
-&gt; Planned scope PgClassAndAttributes b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; [PgClassAndAttributes]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes PgClassAndAttributes
</span><a href="#local-6989586621679142086"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  PgClassAndAttributes
  ([PgConstraint] -&gt; [(PgClassAndAttributes, PgConstraint)])
-&gt; Plan scope PgClassAndAttributes [PgConstraint]
-&gt; Plan
     scope PgClassAndAttributes [(PgClassAndAttributes, PgConstraint)]
forall a b.
Plan scope PgClassAndAttributes (a -&gt; b)
-&gt; Plan scope PgClassAndAttributes a
-&gt; Plan scope PgClassAndAttributes b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes [PgConstraint]
-&gt; Plan scope PgClassAndAttributes [PgConstraint]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope PgClassAndAttributes [PgConstraint]
</span><a href="#local-6989586621679142085"><span class="hs-identifier hs-var">constraints</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall scope.
 Plan
   scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; Plan
     scope
     [(PgClassAndAttributes, PgConstraint)]
     [ConstraintDescription]
forall param result listScope.
(forall scope. Plan scope param result)
-&gt; Plan listScope [param] [result]
</span><a href="Orville.PostgreSQL.Plan.html#planList"><span class="hs-identifier hs-var">Plan.planList</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall scope.
Plan
  scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeConstraint"><span class="hs-identifier hs-var">describeConstraint</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span id="local-6989586621679142090"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeConstraint"><span class="hs-identifier hs-type">describeConstraint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142090"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#PgConstraint"><span class="hs-identifier hs-type">PgConstraint</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-type">ConstraintDescription</span></a></span></span><span>
</span><span id="line-278"></span><span id="describeConstraint"><span class="annot"><span class="annottext">describeConstraint :: forall scope.
Plan
  scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeConstraint"><span class="hs-identifier hs-var hs-var">describeConstraint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="#local-6989586621679142098"><span class="hs-identifier hs-type">prepareAttributeLookups</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#PgConstraint"><span class="hs-identifier hs-type">PgConstraint</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679142098"><span class="annot"><span class="annottext">prepareAttributeLookups :: (PgClassAndAttributes, PgConstraint)
-&gt; Maybe [(PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142098"><span class="hs-identifier hs-var hs-var">prepareAttributeLookups</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142099"><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142099"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142100"><span class="annot"><span class="annottext">PgConstraint
</span><a href="#local-6989586621679142100"><span class="hs-identifier hs-var">pgConstraint</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-282"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PgConstraint -&gt; Maybe [AttributeNumber]
</span><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintKey"><span class="hs-identifier hs-var">pgConstraintKey</span></a></span><span> </span><span class="annot"><span class="annottext">PgConstraint
</span><a href="#local-6989586621679142100"><span class="hs-identifier hs-var">pgConstraint</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="annottext">Maybe [AttributeNumber]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [(PgClassAndAttributes, AttributeNumber)]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679142101"><span class="annot"><span class="annottext">[AttributeNumber]
</span><a href="#local-6989586621679142101"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(PgClassAndAttributes, AttributeNumber)]
-&gt; Maybe [(PgClassAndAttributes, AttributeNumber)]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AttributeNumber -&gt; (PgClassAndAttributes, AttributeNumber))
-&gt; [AttributeNumber] -&gt; [(PgClassAndAttributes, AttributeNumber)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142102"><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142102"><span class="hs-identifier hs-var">attNum</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142099"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142102"><span class="hs-identifier hs-var">attNum</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AttributeNumber]
</span><a href="#local-6989586621679142101"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, PgConstraint) PgConstraint
-&gt; (Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
    -&gt; Plan
         scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgConstraint) -&gt; PgConstraint
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgConstraint) -&gt; PgConstraint)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (PgClassAndAttributes, PgConstraint)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) PgConstraint
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (PgClassAndAttributes, PgConstraint)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
  -&gt; Plan
       scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
 -&gt; Plan
      scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; (Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
    -&gt; Plan
         scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142103"><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
</span><a href="#local-6989586621679142103"><span class="hs-identifier hs-var">constraint</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-287"></span><span>      </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
-&gt; (Planned
      scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
    -&gt; Plan
         scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
-&gt; Plan scope PgConstraint (Maybe PgClass)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
forall scope param a b.
Planned scope param a -&gt; Plan scope a b -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#using"><span class="hs-identifier hs-var">Plan.using</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
</span><a href="#local-6989586621679142103"><span class="hs-identifier hs-var">constraint</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgConstraint (Maybe PgClass)
forall scope. Plan scope PgConstraint (Maybe PgClass)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findConstraintForeignRelationClass"><span class="hs-identifier hs-var">findConstraintForeignRelationClass</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned
    scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
  -&gt; Plan
       scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
 -&gt; Plan
      scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; (Planned
      scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
    -&gt; Plan
         scope (PgClassAndAttributes, PgConstraint) ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142105"><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
</span><a href="#local-6989586621679142105"><span class="hs-identifier hs-var">maybeForeignPgClass</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-289"></span><span>          </span><span id="local-6989586621679142110"><span class="annot"><span class="annottext">maybeForeignClassAndAttrNums :: Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe (PgClass, [AttributeNumber]))
</span><a href="#local-6989586621679142110"><span class="hs-identifier hs-var hs-var">maybeForeignClassAndAttrNums</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="annottext">(Maybe PgClass
 -&gt; Maybe [AttributeNumber] -&gt; Maybe (PgClass, [AttributeNumber]))
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe [AttributeNumber])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe (PgClass, [AttributeNumber]))
forall a b c.
(a -&gt; b -&gt; c)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) a
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) b
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span>
</span><span id="line-291"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClass -&gt; [AttributeNumber] -&gt; (PgClass, [AttributeNumber]))
-&gt; Maybe PgClass
-&gt; Maybe [AttributeNumber]
-&gt; Maybe (PgClass, [AttributeNumber])
forall a b c. (a -&gt; b -&gt; c) -&gt; Maybe a -&gt; Maybe b -&gt; Maybe c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
</span><a href="#local-6989586621679142105"><span class="hs-identifier hs-var">maybeForeignPgClass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgConstraint) -&gt; Maybe [AttributeNumber])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (PgClassAndAttributes, PgConstraint)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe [AttributeNumber])
forall a b.
(a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) a
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgConstraint -&gt; Maybe [AttributeNumber]
</span><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintForeignKey"><span class="hs-identifier hs-var">pgConstraintForeignKey</span></a></span><span> </span><span class="annot"><span class="annottext">(PgConstraint -&gt; Maybe [AttributeNumber])
-&gt; ((PgClassAndAttributes, PgConstraint) -&gt; PgConstraint)
-&gt; (PgClassAndAttributes, PgConstraint)
-&gt; Maybe [AttributeNumber]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgConstraint) -&gt; PgConstraint
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (PgClassAndAttributes, PgConstraint)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-295"></span><span>          </span><span class="annot"><span class="annottext">PgConstraint
-&gt; Maybe [PgAttribute]
-&gt; Maybe ForeignRelationDescription
-&gt; Maybe [PgAttribute]
-&gt; ConstraintDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ConstraintDescription"><span class="hs-identifier hs-var">ConstraintDescription</span></a></span><span>
</span><span id="line-296"></span><span>            </span><span class="annot"><span class="annottext">(PgConstraint
 -&gt; Maybe [PgAttribute]
 -&gt; Maybe ForeignRelationDescription
 -&gt; Maybe [PgAttribute]
 -&gt; ConstraintDescription)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) PgConstraint
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe [PgAttribute]
      -&gt; Maybe ForeignRelationDescription
      -&gt; Maybe [PgAttribute]
      -&gt; ConstraintDescription)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) PgConstraint
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) PgConstraint
</span><a href="#local-6989586621679142103"><span class="hs-identifier hs-var">constraint</span></a></span><span>
</span><span id="line-297"></span><span>            </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe [PgAttribute]
   -&gt; Maybe ForeignRelationDescription
   -&gt; Maybe [PgAttribute]
   -&gt; ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) (Maybe [PgAttribute])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe ForeignRelationDescription
      -&gt; Maybe [PgAttribute] -&gt; ConstraintDescription)
forall a b.
Plan scope (PgClassAndAttributes, PgConstraint) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) a
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgConstraint)
 -&gt; Maybe [(PgClassAndAttributes, AttributeNumber)])
-&gt; Plan
     scope
     (Maybe [(PgClassAndAttributes, AttributeNumber)])
     (Maybe [PgAttribute])
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) (Maybe [PgAttribute])
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgConstraint)
-&gt; Maybe [(PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142098"><span class="hs-identifier hs-var">prepareAttributeLookups</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Plan scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
-&gt; Plan
     scope
     (Maybe [(PgClassAndAttributes, AttributeNumber)])
     (Maybe [PgAttribute])
forall scope a b. Plan scope a b -&gt; Plan scope (Maybe a) (Maybe b)
</span><a href="Orville.PostgreSQL.Plan.html#planMaybe"><span class="hs-identifier hs-var">Plan.planMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
 -&gt; Plan
      scope
      (Maybe [(PgClassAndAttributes, AttributeNumber)])
      (Maybe [PgAttribute]))
-&gt; Plan
     scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
-&gt; Plan
     scope
     (Maybe [(PgClassAndAttributes, AttributeNumber)])
     (Maybe [PgAttribute])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall scope.
 Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute)
-&gt; Plan
     scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
forall param result listScope.
(forall scope. Plan scope param result)
-&gt; Plan listScope [param] [result]
</span><a href="Orville.PostgreSQL.Plan.html#planList"><span class="hs-identifier hs-var">Plan.planList</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
forall scope.
Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findAttributeByNumber"><span class="hs-identifier hs-var">findAttributeByNumber</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>            </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe ForeignRelationDescription
   -&gt; Maybe [PgAttribute] -&gt; ConstraintDescription)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe ForeignRelationDescription)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe [PgAttribute] -&gt; ConstraintDescription)
forall a b.
Plan scope (PgClassAndAttributes, PgConstraint) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) a
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
-&gt; Plan scope (Maybe PgClass) (Maybe ForeignRelationDescription)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgConstraint)
     (Maybe ForeignRelationDescription)
forall scope param a b.
Planned scope param a -&gt; Plan scope a b -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#using"><span class="hs-identifier hs-var">Plan.using</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgConstraint) (Maybe PgClass)
</span><a href="#local-6989586621679142105"><span class="hs-identifier hs-var">maybeForeignPgClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Plan scope PgClass ForeignRelationDescription
-&gt; Plan scope (Maybe PgClass) (Maybe ForeignRelationDescription)
forall scope a b. Plan scope a b -&gt; Plan scope (Maybe a) (Maybe b)
</span><a href="Orville.PostgreSQL.Plan.html#planMaybe"><span class="hs-identifier hs-var">Plan.planMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass ForeignRelationDescription
forall scope. Plan scope PgClass ForeignRelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeForeignRelation"><span class="hs-identifier hs-var">describeForeignRelation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>            </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe [PgAttribute] -&gt; ConstraintDescription)
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) (Maybe [PgAttribute])
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) ConstraintDescription
forall a b.
Plan scope (PgClassAndAttributes, PgConstraint) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) a
-&gt; Plan scope (PgClassAndAttributes, PgConstraint) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe (PgClass, [AttributeNumber]))
-&gt; Plan
     scope (Maybe (PgClass, [AttributeNumber])) (Maybe [PgAttribute])
-&gt; Plan
     scope (PgClassAndAttributes, PgConstraint) (Maybe [PgAttribute])
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgConstraint)
  (Maybe (PgClass, [AttributeNumber]))
</span><a href="#local-6989586621679142110"><span class="hs-identifier hs-var">maybeForeignClassAndAttrNums</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
-&gt; Plan
     scope (Maybe (PgClass, [AttributeNumber])) (Maybe [PgAttribute])
forall scope a b. Plan scope a b -&gt; Plan scope (Maybe a) (Maybe b)
</span><a href="Orville.PostgreSQL.Plan.html#planMaybe"><span class="hs-identifier hs-var">Plan.planMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope. Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findForeignKeyAttributes"><span class="hs-identifier hs-var">findForeignKeyAttributes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span id="local-6989586621679141858"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeForeignRelation"><span class="hs-identifier hs-type">describeForeignRelation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141858"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier hs-type">ForeignRelationDescription</span></a></span></span><span>
</span><span id="line-302"></span><span id="describeForeignRelation"><span class="annot"><span class="annottext">describeForeignRelation :: forall scope. Plan scope PgClass ForeignRelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeForeignRelation"><span class="hs-identifier hs-var hs-var">describeForeignRelation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><span class="annottext">PgClass -&gt; PgNamespace -&gt; ForeignRelationDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#ForeignRelationDescription"><span class="hs-identifier hs-var">ForeignRelationDescription</span></a></span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">(PgClass -&gt; PgNamespace -&gt; ForeignRelationDescription)
-&gt; Plan scope PgClass PgClass
-&gt; Plan scope PgClass (PgNamespace -&gt; ForeignRelationDescription)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass PgClass
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">Plan scope PgClass (PgNamespace -&gt; ForeignRelationDescription)
-&gt; Plan scope PgClass PgNamespace
-&gt; Plan scope PgClass ForeignRelationDescription
forall a b.
Plan scope PgClass (a -&gt; b)
-&gt; Plan scope PgClass a -&gt; Plan scope PgClass b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; Plan scope Oid PgNamespace -&gt; Plan scope PgClass PgNamespace
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassNamespaceOid"><span class="hs-identifier hs-var">pgClassNamespaceOid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgNamespace PgNamespace
-&gt; FieldDefinition NotNull Oid -&gt; Plan scope Oid PgNamespace
forall fieldValue key writeEntity readEntity nullability scope.
(Show fieldValue, Ord fieldValue) =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue readEntity
</span><a href="Orville.PostgreSQL.Plan.html#findOne"><span class="hs-identifier hs-var">Plan.findOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgNamespace PgNamespace
</span><a href="Orville.PostgreSQL.PgCatalog.PgNamespace.html#pgNamespaceTable"><span class="hs-identifier hs-var">pgNamespaceTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.OidField.html#oidField"><span class="hs-identifier hs-var">oidField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span id="local-6989586621679141859"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findForeignKeyAttributes"><span class="hs-identifier hs-type">findForeignKeyAttributes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141859"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-308"></span><span id="findForeignKeyAttributes"><span class="annot"><span class="annottext">findForeignKeyAttributes :: forall scope. Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findForeignKeyAttributes"><span class="hs-identifier hs-var hs-var">findForeignKeyAttributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) PgClass
-&gt; (Planned scope (PgClass, [AttributeNumber]) PgClass
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClass, [AttributeNumber]) -&gt; PgClass
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((PgClass, [AttributeNumber]) -&gt; PgClass)
-&gt; Plan
     scope (PgClass, [AttributeNumber]) (PgClass, [AttributeNumber])
-&gt; Plan scope (PgClass, [AttributeNumber]) PgClass
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (PgClass, [AttributeNumber]) (PgClass, [AttributeNumber])
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (PgClass, [AttributeNumber]) PgClass
  -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
 -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; (Planned scope (PgClass, [AttributeNumber]) PgClass
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142124"><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) PgClass
</span><a href="#local-6989586621679142124"><span class="hs-identifier hs-var">pgClass</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>    </span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) [AttributeNumber]
-&gt; (Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClass, [AttributeNumber]) -&gt; [AttributeNumber]
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((PgClass, [AttributeNumber]) -&gt; [AttributeNumber])
-&gt; Plan
     scope (PgClass, [AttributeNumber]) (PgClass, [AttributeNumber])
-&gt; Plan scope (PgClass, [AttributeNumber]) [AttributeNumber]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope (PgClass, [AttributeNumber]) (PgClass, [AttributeNumber])
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
  -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
 -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; (Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142125"><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
</span><a href="#local-6989586621679142125"><span class="hs-identifier hs-var">attrNums</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-311"></span><span>      </span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
-&gt; (Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((PgClass, [AttributeNumber]) -&gt; PgClass)
-&gt; Plan scope PgClass [PgAttribute]
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClass, [AttributeNumber]) -&gt; PgClass
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClass [PgAttribute]
forall scope. Plan scope PgClass [PgAttribute]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassAttributes"><span class="hs-identifier hs-var">findClassAttributes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
  -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
 -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; (Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
    -&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142126"><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
</span><a href="#local-6989586621679142126"><span class="hs-identifier hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-313"></span><span>          </span><span id="local-6989586621679142129"><span class="annot"><span class="annottext">attrSource :: Plan scope (PgClass, [AttributeNumber]) PgClassAndAttributes
</span><a href="#local-6989586621679142129"><span class="hs-identifier hs-var hs-var">attrSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-314"></span><span>            </span><span class="annot"><span class="annottext">PgClass -&gt; [PgAttribute] -&gt; PgClassAndAttributes
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#mkPgClassAndAttributes"><span class="hs-identifier hs-var">mkPgClassAndAttributes</span></a></span><span>
</span><span id="line-315"></span><span>              </span><span class="annot"><span class="annottext">(PgClass -&gt; [PgAttribute] -&gt; PgClassAndAttributes)
-&gt; Plan scope (PgClass, [AttributeNumber]) PgClass
-&gt; Plan
     scope
     (PgClass, [AttributeNumber])
     ([PgAttribute] -&gt; PgClassAndAttributes)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) PgClass
-&gt; Plan scope (PgClass, [AttributeNumber]) PgClass
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) PgClass
</span><a href="#local-6989586621679142124"><span class="hs-identifier hs-var">pgClass</span></a></span><span>
</span><span id="line-316"></span><span>              </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClass, [AttributeNumber])
  ([PgAttribute] -&gt; PgClassAndAttributes)
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
-&gt; Plan scope (PgClass, [AttributeNumber]) PgClassAndAttributes
forall a b.
Plan scope (PgClass, [AttributeNumber]) (a -&gt; b)
-&gt; Plan scope (PgClass, [AttributeNumber]) a
-&gt; Plan scope (PgClass, [AttributeNumber]) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [PgAttribute]
</span><a href="#local-6989586621679142126"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-318"></span><span>          </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClass, [AttributeNumber])
  [(PgClassAndAttributes, AttributeNumber)]
-&gt; Plan
     scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgAttribute]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span>
</span><span id="line-319"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PgClassAndAttributes]
-&gt; [AttributeNumber] -&gt; [(PgClassAndAttributes, AttributeNumber)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">([PgClassAndAttributes]
 -&gt; [AttributeNumber] -&gt; [(PgClassAndAttributes, AttributeNumber)])
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgClassAndAttributes]
-&gt; Plan
     scope
     (PgClass, [AttributeNumber])
     ([AttributeNumber] -&gt; [(PgClassAndAttributes, AttributeNumber)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; [PgClassAndAttributes])
-&gt; Plan scope (PgClass, [AttributeNumber]) PgClassAndAttributes
-&gt; Plan scope (PgClass, [AttributeNumber]) [PgClassAndAttributes]
forall a b.
(a -&gt; b)
-&gt; Plan scope (PgClass, [AttributeNumber]) a
-&gt; Plan scope (PgClass, [AttributeNumber]) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; [PgClassAndAttributes]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClass, [AttributeNumber]) PgClassAndAttributes
</span><a href="#local-6989586621679142129"><span class="hs-identifier hs-var">attrSource</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClass, [AttributeNumber])
  ([AttributeNumber] -&gt; [(PgClassAndAttributes, AttributeNumber)])
-&gt; Plan scope (PgClass, [AttributeNumber]) [AttributeNumber]
-&gt; Plan
     scope
     (PgClass, [AttributeNumber])
     [(PgClassAndAttributes, AttributeNumber)]
forall a b.
Plan scope (PgClass, [AttributeNumber]) (a -&gt; b)
-&gt; Plan scope (PgClass, [AttributeNumber]) a
-&gt; Plan scope (PgClass, [AttributeNumber]) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
-&gt; Plan scope (PgClass, [AttributeNumber]) [AttributeNumber]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClass, [AttributeNumber]) [AttributeNumber]
</span><a href="#local-6989586621679142125"><span class="hs-identifier hs-var">attrNums</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall scope.
 Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute)
-&gt; Plan
     scope [(PgClassAndAttributes, AttributeNumber)] [PgAttribute]
forall param result listScope.
(forall scope. Plan scope param result)
-&gt; Plan listScope [param] [result]
</span><a href="Orville.PostgreSQL.Plan.html#planList"><span class="hs-identifier hs-var">Plan.planList</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
forall scope.
Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findAttributeByNumber"><span class="hs-identifier hs-var">findAttributeByNumber</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span id="local-6989586621679141853"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findConstraintForeignRelationClass"><span class="hs-identifier hs-type">findConstraintForeignRelationClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141853"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#PgConstraint"><span class="hs-identifier hs-type">PgConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-323"></span><span id="findConstraintForeignRelationClass"><span class="annot"><span class="annottext">findConstraintForeignRelationClass :: forall scope. Plan scope PgConstraint (Maybe PgClass)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findConstraintForeignRelationClass"><span class="hs-identifier hs-var hs-var">findConstraintForeignRelationClass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-325"></span><span>    </span><span id="local-6989586621679142136"><span class="annot"><span class="annottext">relationId :: PgConstraint -&gt; Maybe Oid
</span><a href="#local-6989586621679142136"><span class="hs-identifier hs-var hs-var">relationId</span></a></span></span><span> </span><span id="local-6989586621679142137"><span class="annot"><span class="annottext">PgConstraint
</span><a href="#local-6989586621679142137"><span class="hs-identifier hs-var">constraint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-326"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PgConstraint -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgConstraint.html#pgConstraintForeignRelationOid"><span class="hs-identifier hs-var">pgConstraintForeignRelationOid</span></a></span><span> </span><span class="annot"><span class="annottext">PgConstraint
</span><a href="#local-6989586621679142137"><span class="hs-identifier hs-var">constraint</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-327"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">LibPQ.Oid</span></span><span> </span><span class="annot"><span class="annottext">CUInt
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Oid
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-328"></span><span>        </span><span id="local-6989586621679142139"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679142139"><span class="hs-identifier hs-var">nonZero</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Maybe Oid
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679142139"><span class="hs-identifier hs-var">nonZero</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="annottext">(PgConstraint -&gt; Maybe Oid)
-&gt; Plan scope (Maybe Oid) (Maybe PgClass)
-&gt; Plan scope PgConstraint (Maybe PgClass)
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgConstraint -&gt; Maybe Oid
</span><a href="#local-6989586621679142136"><span class="hs-identifier hs-var">relationId</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope (Maybe Oid) (Maybe PgClass)
 -&gt; Plan scope PgConstraint (Maybe PgClass))
-&gt; Plan scope (Maybe Oid) (Maybe PgClass)
-&gt; Plan scope PgConstraint (Maybe PgClass)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-331"></span><span>      </span><span class="annot"><span class="annottext">Plan scope Oid PgClass -&gt; Plan scope (Maybe Oid) (Maybe PgClass)
forall scope a b. Plan scope a b -&gt; Plan scope (Maybe a) (Maybe b)
</span><a href="Orville.PostgreSQL.Plan.html#planMaybe"><span class="hs-identifier hs-var">Plan.planMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid PgClass -&gt; Plan scope (Maybe Oid) (Maybe PgClass))
-&gt; Plan scope Oid PgClass -&gt; Plan scope (Maybe Oid) (Maybe PgClass)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
-&gt; FieldDefinition NotNull Oid -&gt; Plan scope Oid PgClass
forall fieldValue key writeEntity readEntity nullability scope.
(Show fieldValue, Ord fieldValue) =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue readEntity
</span><a href="Orville.PostgreSQL.Plan.html#findOne"><span class="hs-identifier hs-var">Plan.findOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassTable"><span class="hs-identifier hs-var">pgClassTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.OidField.html#oidField"><span class="hs-identifier hs-var">oidField</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span id="local-6989586621679141794"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassIndexes"><span class="hs-identifier hs-type">findClassIndexes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141794"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-type">IndexDescription</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-335"></span><span id="findClassIndexes"><span class="annot"><span class="annottext">findClassIndexes :: forall scope. Plan scope PgClassAndAttributes [IndexDescription]
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassIndexes"><span class="hs-identifier hs-var hs-var">findClassIndexes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621679141865"><span class="annot"><a href="#local-6989586621679142140"><span class="hs-identifier hs-type">findIndexes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141865"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier hs-type">PgIndex</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-338"></span><span>    </span><span id="local-6989586621679142140"><span class="annot"><span class="annottext">findIndexes :: forall scope. Plan scope PgClassAndAttributes [PgIndex]
</span><a href="#local-6989586621679142140"><span class="hs-identifier hs-var hs-var">findIndexes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-339"></span><span>      </span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; Oid)
-&gt; Plan scope Oid [PgIndex]
-&gt; Plan scope PgClassAndAttributes [PgIndex]
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier hs-var">pgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; (PgClassAndAttributes -&gt; PgClass) -&gt; PgClassAndAttributes -&gt; Oid
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassRecord"><span class="hs-identifier hs-var">pgClassRecord</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid [PgIndex]
 -&gt; Plan scope PgClassAndAttributes [PgIndex])
-&gt; Plan scope Oid [PgIndex]
-&gt; Plan scope PgClassAndAttributes [PgIndex]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-340"></span><span>        </span><span class="annot"><span class="annottext">TableDefinition NoKey PgIndex PgIndex
-&gt; FieldDefinition NotNull Oid
-&gt; BooleanExpr
-&gt; Plan scope Oid [PgIndex]
forall fieldValue key writeEntity readEntity nullability scope.
Ord fieldValue =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; BooleanExpr
-&gt; Plan scope fieldValue [readEntity]
</span><a href="Orville.PostgreSQL.Plan.html#findAllWhere"><span class="hs-identifier hs-var">Plan.findAllWhere</span></a></span><span>
</span><span id="line-341"></span><span>          </span><span class="annot"><span class="annottext">TableDefinition NoKey PgIndex PgIndex
</span><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexTable"><span class="hs-identifier hs-var">pgIndexTable</span></a></span><span>
</span><span id="line-342"></span><span>          </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#indexRelationOidField"><span class="hs-identifier hs-var">indexRelationOidField</span></a></span><span>
</span><span id="line-343"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinition NotNull Bool -&gt; Bool -&gt; BooleanExpr
forall nullability a.
FieldDefinition nullability a -&gt; a -&gt; BooleanExpr
</span><a href="Orville.PostgreSQL.Marshall.FieldDefinition.html#fieldEquals"><span class="hs-identifier hs-var">Orville.fieldEquals</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Bool
</span><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#indexIsLiveField"><span class="hs-identifier hs-var">indexIsLiveField</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span>    </span><span id="local-6989586621679141867"><span class="annot"><a href="#local-6989586621679142142"><span class="hs-identifier hs-type">indexesWithClassAndAttrs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141867"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier hs-type">PgIndex</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-346"></span><span>    </span><span id="local-6989586621679142142"><span class="annot"><span class="annottext">indexesWithClassAndAttrs :: forall scope.
Plan scope PgClassAndAttributes [(PgClassAndAttributes, PgIndex)]
</span><a href="#local-6989586621679142142"><span class="hs-identifier hs-var hs-var">indexesWithClassAndAttrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-347"></span><span>      </span><span class="annot"><span class="annottext">[PgClassAndAttributes]
-&gt; [PgIndex] -&gt; [(PgClassAndAttributes, PgIndex)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span>
</span><span id="line-348"></span><span>        </span><span class="annot"><span class="annottext">([PgClassAndAttributes]
 -&gt; [PgIndex] -&gt; [(PgClassAndAttributes, PgIndex)])
-&gt; Plan scope PgClassAndAttributes [PgClassAndAttributes]
-&gt; Plan
     scope
     PgClassAndAttributes
     ([PgIndex] -&gt; [(PgClassAndAttributes, PgIndex)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; [PgClassAndAttributes])
-&gt; Plan scope PgClassAndAttributes PgClassAndAttributes
-&gt; Plan scope PgClassAndAttributes [PgClassAndAttributes]
forall a b.
(a -&gt; b)
-&gt; Plan scope PgClassAndAttributes a
-&gt; Plan scope PgClassAndAttributes b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; [PgClassAndAttributes]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes PgClassAndAttributes
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span>
</span><span id="line-349"></span><span>        </span><span class="annot"><span class="annottext">Plan
  scope
  PgClassAndAttributes
  ([PgIndex] -&gt; [(PgClassAndAttributes, PgIndex)])
-&gt; Plan scope PgClassAndAttributes [PgIndex]
-&gt; Plan
     scope PgClassAndAttributes [(PgClassAndAttributes, PgIndex)]
forall a b.
Plan scope PgClassAndAttributes (a -&gt; b)
-&gt; Plan scope PgClassAndAttributes a
-&gt; Plan scope PgClassAndAttributes b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [PgIndex]
forall scope. Plan scope PgClassAndAttributes [PgIndex]
</span><a href="#local-6989586621679142140"><span class="hs-identifier hs-var">findIndexes</span></a></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [(PgClassAndAttributes, PgIndex)]
-&gt; Plan scope [(PgClassAndAttributes, PgIndex)] [IndexDescription]
-&gt; Plan scope PgClassAndAttributes [IndexDescription]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope PgClassAndAttributes [(PgClassAndAttributes, PgIndex)]
forall scope.
Plan scope PgClassAndAttributes [(PgClassAndAttributes, PgIndex)]
</span><a href="#local-6989586621679142142"><span class="hs-identifier hs-var">indexesWithClassAndAttrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall scope.
 Plan scope (PgClassAndAttributes, PgIndex) IndexDescription)
-&gt; Plan scope [(PgClassAndAttributes, PgIndex)] [IndexDescription]
forall param result listScope.
(forall scope. Plan scope param result)
-&gt; Plan listScope [param] [result]
</span><a href="Orville.PostgreSQL.Plan.html#planList"><span class="hs-identifier hs-var">Plan.planList</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, PgIndex) IndexDescription
forall scope.
Plan scope (PgClassAndAttributes, PgIndex) IndexDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeIndex"><span class="hs-identifier hs-var">describeIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span id="local-6989586621679142147"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeIndex"><span class="hs-identifier hs-type">describeIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142147"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier hs-type">PgIndex</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-type">IndexDescription</span></a></span></span><span>
</span><span id="line-354"></span><span id="describeIndex"><span class="annot"><span class="annottext">describeIndex :: forall scope.
Plan scope (PgClassAndAttributes, PgIndex) IndexDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#describeIndex"><span class="hs-identifier hs-var hs-var">describeIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="#local-6989586621679142162"><span class="hs-identifier hs-type">expressionsOrAttributeLookups</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-357"></span><span>      </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-358"></span><span>      </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-359"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-type">IndexMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-360"></span><span>    </span><span id="local-6989586621679142162"><span class="annot"><span class="annottext">expressionsOrAttributeLookups :: PgClassAndAttributes
-&gt; [AttributeNumber]
-&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142162"><span class="hs-identifier hs-var hs-var">expressionsOrAttributeLookups</span></a></span></span><span> </span><span id="local-6989586621679142163"><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142163"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span> </span><span id="local-6989586621679142164"><span class="annot"><span class="annottext">[AttributeNumber]
</span><a href="#local-6989586621679142164"><span class="hs-identifier hs-var">attNumList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-361"></span><span>      </span><span id="local-6989586621679142165"><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142165"><span class="hs-identifier hs-var">attNum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[AttributeNumber]
</span><a href="#local-6989586621679142164"><span class="hs-identifier hs-var">attNumList</span></a></span><span>
</span><span id="line-362"></span><span>      </span><span class="annot"><span class="annottext">Either IndexMember (PgClassAndAttributes, AttributeNumber)
-&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either IndexMember (PgClassAndAttributes, AttributeNumber)
 -&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Either IndexMember (PgClassAndAttributes, AttributeNumber)
-&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-363"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142165"><span class="hs-identifier hs-var">attNum</span></a></span><span> </span><span class="annot"><span class="annottext">AttributeNumber -&gt; AttributeNumber -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><span class="hs-number">0</span></span><span>
</span><span id="line-364"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">IndexMember
-&gt; Either IndexMember (PgClassAndAttributes, AttributeNumber)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">IndexMember
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexExpression"><span class="hs-identifier hs-var">IndexExpression</span></a></span><span>
</span><span id="line-365"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, AttributeNumber)
-&gt; Either IndexMember (PgClassAndAttributes, AttributeNumber)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142163"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142165"><span class="hs-identifier hs-var">attNum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621679141874"><span class="annot"><a href="#local-6989586621679142166"><span class="hs-identifier hs-type">indexMemberLookups</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span>
</span><span id="line-369"></span><span>        </span><span class="annot"><a href="#local-6989586621679141874"><span class="hs-identifier hs-type">scope</span></a></span><span>
</span><span id="line-370"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#PgIndex"><span class="hs-identifier hs-type">PgIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-type">IndexMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-372"></span><span>    </span><span id="local-6989586621679142166"><span class="annot"><span class="annottext">indexMemberLookups :: forall scope.
Plan
  scope
  (PgClassAndAttributes, PgIndex)
  [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142166"><span class="hs-identifier hs-var hs-var">indexMemberLookups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-373"></span><span>      </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
-&gt; (Planned
      scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
    -&gt; Plan
         scope
         (PgClassAndAttributes, PgIndex)
         [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgIndex) -&gt; PgClassAndAttributes
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgIndex) -&gt; PgClassAndAttributes)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     (PgClassAndAttributes, PgIndex)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  (PgClassAndAttributes, PgIndex)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned
    scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
  -&gt; Plan
       scope
       (PgClassAndAttributes, PgIndex)
       [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
 -&gt; Plan
      scope
      (PgClassAndAttributes, PgIndex)
      [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; (Planned
      scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
    -&gt; Plan
         scope
         (PgClassAndAttributes, PgIndex)
         [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142171"><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
</span><a href="#local-6989586621679142171"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>        </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
-&gt; (Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
    -&gt; Plan
         scope
         (PgClassAndAttributes, PgIndex)
         [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall scope param a result.
Plan scope param a
-&gt; (Planned scope param a -&gt; Plan scope param result)
-&gt; Plan scope param result
</span><a href="Orville.PostgreSQL.Plan.html#bind"><span class="hs-identifier hs-var">Plan.bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgIndex -&gt; [AttributeNumber]
</span><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexAttributeNumbers"><span class="hs-identifier hs-var">pgIndexAttributeNumbers</span></a></span><span> </span><span class="annot"><span class="annottext">(PgIndex -&gt; [AttributeNumber])
-&gt; ((PgClassAndAttributes, PgIndex) -&gt; PgIndex)
-&gt; (PgClassAndAttributes, PgIndex)
-&gt; [AttributeNumber]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgIndex) -&gt; PgIndex
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgIndex) -&gt; [AttributeNumber])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     (PgClassAndAttributes, PgIndex)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  (PgClassAndAttributes, PgIndex)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
  -&gt; Plan
       scope
       (PgClassAndAttributes, PgIndex)
       [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
 -&gt; Plan
      scope
      (PgClassAndAttributes, PgIndex)
      [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; (Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
    -&gt; Plan
         scope
         (PgClassAndAttributes, PgIndex)
         [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679142172"><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
</span><a href="#local-6989586621679142172"><span class="hs-identifier hs-var">attNums</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-375"></span><span>          </span><span class="annot"><span class="annottext">PgClassAndAttributes
-&gt; [AttributeNumber]
-&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142162"><span class="hs-identifier hs-var">expressionsOrAttributeLookups</span></a></span><span>
</span><span id="line-376"></span><span>            </span><span class="annot"><span class="annottext">(PgClassAndAttributes
 -&gt; [AttributeNumber]
 -&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     ([AttributeNumber]
      -&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) PgClassAndAttributes
</span><a href="#local-6989586621679142171"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span>
</span><span id="line-377"></span><span>            </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  ([AttributeNumber]
   -&gt; [Either IndexMember (PgClassAndAttributes, AttributeNumber)])
-&gt; Plan scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall a b.
Plan scope (PgClassAndAttributes, PgIndex) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) a
-&gt; Plan scope (PgClassAndAttributes, PgIndex) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
-&gt; Plan scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
forall scope param a. Planned scope param a -&gt; Plan scope param a
</span><a href="Orville.PostgreSQL.Plan.html#use"><span class="hs-identifier hs-var">Plan.use</span></a></span><span> </span><span class="annot"><span class="annottext">Planned scope (PgClassAndAttributes, PgIndex) [AttributeNumber]
</span><a href="#local-6989586621679142172"><span class="hs-identifier hs-var">attNums</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679141876"><span class="annot"><a href="#local-6989586621679142173"><span class="hs-identifier hs-type">resolveIndexMemberLookup</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span>
</span><span id="line-381"></span><span>        </span><span class="annot"><a href="#local-6989586621679141876"><span class="hs-identifier hs-type">scope</span></a></span><span>
</span><span id="line-382"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-type">IndexMember</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>        </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexMember"><span class="hs-identifier hs-type">IndexMember</span></a></span></span><span>
</span><span id="line-384"></span><span>    </span><span id="local-6989586621679142173"><span class="annot"><span class="annottext">resolveIndexMemberLookup :: forall scope.
Plan
  scope
  (Either IndexMember (PgClassAndAttributes, AttributeNumber))
  IndexMember
</span><a href="#local-6989586621679142173"><span class="hs-identifier hs-var hs-var">resolveIndexMemberLookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-385"></span><span>      </span><span class="annot"><span class="annottext">(IndexMember -&gt; IndexMember)
-&gt; (PgAttribute -&gt; IndexMember)
-&gt; Either IndexMember PgAttribute
-&gt; IndexMember
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">IndexMember -&gt; IndexMember
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">PgAttribute -&gt; IndexMember
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexAttribute"><span class="hs-identifier hs-var">IndexAttribute</span></a></span><span>
</span><span id="line-386"></span><span>        </span><span class="annot"><span class="annottext">(Either IndexMember PgAttribute -&gt; IndexMember)
-&gt; Plan
     scope
     (Either IndexMember (PgClassAndAttributes, AttributeNumber))
     (Either IndexMember PgAttribute)
-&gt; Plan
     scope
     (Either IndexMember (PgClassAndAttributes, AttributeNumber))
     IndexMember
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan scope IndexMember IndexMember
-&gt; Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
-&gt; Plan
     scope
     (Either IndexMember (PgClassAndAttributes, AttributeNumber))
     (Either IndexMember PgAttribute)
forall scope leftParam leftResult rightParam rightResult.
Plan scope leftParam leftResult
-&gt; Plan scope rightParam rightResult
-&gt; Plan
     scope (Either leftParam rightParam) (Either leftResult rightResult)
</span><a href="Orville.PostgreSQL.Plan.html#planEither"><span class="hs-identifier hs-var">Plan.planEither</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope IndexMember IndexMember
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span> </span><span class="annot"><span class="annottext">Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
forall scope.
Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findAttributeByNumber"><span class="hs-identifier hs-var">findAttributeByNumber</span></a></span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><span class="annottext">PgIndex -&gt; PgClass -&gt; [IndexMember] -&gt; IndexDescription
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#IndexDescription"><span class="hs-identifier hs-var">IndexDescription</span></a></span><span>
</span><span id="line-389"></span><span>      </span><span class="annot"><span class="annottext">(PgIndex -&gt; PgClass -&gt; [IndexMember] -&gt; IndexDescription)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgIndex
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     (PgClass -&gt; [IndexMember] -&gt; IndexDescription)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgIndex) -&gt; PgIndex)
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     (PgClassAndAttributes, PgIndex)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgIndex
forall a b.
(a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) a
-&gt; Plan scope (PgClassAndAttributes, PgIndex) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgIndex) -&gt; PgIndex
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  (PgClassAndAttributes, PgIndex)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span>
</span><span id="line-390"></span><span>      </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  (PgClass -&gt; [IndexMember] -&gt; IndexDescription)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgClass
-&gt; Plan
     scope
     (PgClassAndAttributes, PgIndex)
     ([IndexMember] -&gt; IndexDescription)
forall a b.
Plan scope (PgClassAndAttributes, PgIndex) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) a
-&gt; Plan scope (PgClassAndAttributes, PgIndex) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, PgIndex) -&gt; Oid)
-&gt; Plan scope Oid PgClass
-&gt; Plan scope (PgClassAndAttributes, PgIndex) PgClass
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgIndex -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgIndex.html#pgIndexPgClassOid"><span class="hs-identifier hs-var">pgIndexPgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(PgIndex -&gt; Oid)
-&gt; ((PgClassAndAttributes, PgIndex) -&gt; PgIndex)
-&gt; (PgClassAndAttributes, PgIndex)
-&gt; Oid
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, PgIndex) -&gt; PgIndex
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
-&gt; FieldDefinition NotNull Oid -&gt; Plan scope Oid PgClass
forall fieldValue key writeEntity readEntity nullability scope.
(Show fieldValue, Ord fieldValue) =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue readEntity
</span><a href="Orville.PostgreSQL.Plan.html#findOne"><span class="hs-identifier hs-var">Plan.findOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgClass PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassTable"><span class="hs-identifier hs-var">pgClassTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.OidField.html#oidField"><span class="hs-identifier hs-var">oidField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  ([IndexMember] -&gt; IndexDescription)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) [IndexMember]
-&gt; Plan scope (PgClassAndAttributes, PgIndex) IndexDescription
forall a b.
Plan scope (PgClassAndAttributes, PgIndex) (a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, PgIndex) a
-&gt; Plan scope (PgClassAndAttributes, PgIndex) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
-&gt; Plan
     scope
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
     [IndexMember]
-&gt; Plan scope (PgClassAndAttributes, PgIndex) [IndexMember]
forall scope a b c.
Plan scope a b -&gt; Plan scope b c -&gt; Plan scope a c
</span><a href="Orville.PostgreSQL.Plan.html#chain"><span class="hs-identifier hs-var">Plan.chain</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, PgIndex)
  [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
forall scope.
Plan
  scope
  (PgClassAndAttributes, PgIndex)
  [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
</span><a href="#local-6989586621679142166"><span class="hs-identifier hs-var">indexMemberLookups</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall scope.
 Plan
   scope
   (Either IndexMember (PgClassAndAttributes, AttributeNumber))
   IndexMember)
-&gt; Plan
     scope
     [Either IndexMember (PgClassAndAttributes, AttributeNumber)]
     [IndexMember]
forall param result listScope.
(forall scope. Plan scope param result)
-&gt; Plan listScope [param] [result]
</span><a href="Orville.PostgreSQL.Plan.html#planList"><span class="hs-identifier hs-var">Plan.planList</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (Either IndexMember (PgClassAndAttributes, AttributeNumber))
  IndexMember
forall scope.
Plan
  scope
  (Either IndexMember (PgClassAndAttributes, AttributeNumber))
  IndexMember
</span><a href="#local-6989586621679142173"><span class="hs-identifier hs-var">resolveIndexMemberLookup</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-keyword">data</span><span> </span><span id="PgClassAndAttributes"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-var">PgClassAndAttributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PgClassAndAttributes"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-var">PgClassAndAttributes</span></a></span></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="pgClassRecord"><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassRecord"><span class="hs-identifier hs-var hs-var">pgClassRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="pgClassAttributes"><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; Map AttributeNumber PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassAttributes"><span class="hs-identifier hs-var hs-var">pgClassAttributes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#mkPgClassAndAttributes"><span class="hs-identifier hs-type">mkPgClassAndAttributes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span>
</span><span id="line-399"></span><span id="mkPgClassAndAttributes"><span class="annot"><span class="annottext">mkPgClassAndAttributes :: PgClass -&gt; [PgAttribute] -&gt; PgClassAndAttributes
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#mkPgClassAndAttributes"><span class="hs-identifier hs-var hs-var">mkPgClassAndAttributes</span></a></span></span><span> </span><span id="local-6989586621679142179"><span class="annot"><span class="annottext">PgClass
</span><a href="#local-6989586621679142179"><span class="hs-identifier hs-var">pgClass</span></a></span></span><span> </span><span id="local-6989586621679142180"><span class="annot"><span class="annottext">[PgAttribute]
</span><a href="#local-6989586621679142180"><span class="hs-identifier hs-var">attributes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pgClassRecord :: PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassRecord"><span class="hs-identifier hs-var">pgClassRecord</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgClass
</span><a href="#local-6989586621679142179"><span class="hs-identifier hs-var">pgClass</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pgClassAttributes :: Map AttributeNumber PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassAttributes"><span class="hs-identifier hs-var">pgClassAttributes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PgAttribute -&gt; AttributeNumber)
-&gt; [PgAttribute] -&gt; Map AttributeNumber PgAttribute
forall key row. Ord key =&gt; (row -&gt; key) -&gt; [row] -&gt; Map key row
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexBy"><span class="hs-identifier hs-var">indexBy</span></a></span><span> </span><span class="annot"><span class="annottext">PgAttribute -&gt; AttributeNumber
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#pgAttributeNumber"><span class="hs-identifier hs-var">pgAttributeNumber</span></a></span><span> </span><span class="annot"><span class="annottext">[PgAttribute]
</span><a href="#local-6989586621679142180"><span class="hs-identifier hs-var">attributes</span></a></span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span id="local-6989586621679142181"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findAttributeByNumber"><span class="hs-identifier hs-type">findAttributeByNumber</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679142181"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span></span><span>
</span><span id="line-406"></span><span id="findAttributeByNumber"><span class="annot"><span class="annottext">findAttributeByNumber :: forall scope.
Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findAttributeByNumber"><span class="hs-identifier hs-var hs-var">findAttributeByNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-408"></span><span>    </span><span id="local-6989586621679142190"><span class="annot"><span class="annottext">lookupAttr :: (PgClassAndAttributes, AttributeNumber) -&gt; Maybe PgAttribute
</span><a href="#local-6989586621679142190"><span class="hs-identifier hs-var hs-var">lookupAttr</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142191"><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142191"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142192"><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142192"><span class="hs-identifier hs-var">attrNum</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-409"></span><span>      </span><span class="annot"><span class="annottext">AttributeNumber
-&gt; Map AttributeNumber PgAttribute -&gt; Maybe PgAttribute
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142192"><span class="hs-identifier hs-var">attrNum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; Map AttributeNumber PgAttribute
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassAttributes"><span class="hs-identifier hs-var">pgClassAttributes</span></a></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142191"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>    </span><span class="annot"><a href="#local-6989586621679142193"><span class="hs-identifier hs-type">assertFound</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-412"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#PgClassAndAttributes"><span class="hs-identifier hs-type">PgClassAndAttributes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#AttributeNumber"><span class="hs-identifier hs-type">AttributeNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-413"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-414"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#PgAttribute"><span class="hs-identifier hs-type">PgAttribute</span></a></span><span>
</span><span id="line-415"></span><span>    </span><span id="local-6989586621679142193"><span class="annot"><span class="annottext">assertFound :: (PgClassAndAttributes, AttributeNumber)
-&gt; Maybe PgAttribute -&gt; Either String PgAttribute
</span><a href="#local-6989586621679142193"><span class="hs-identifier hs-var hs-var">assertFound</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679142194"><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142194"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679142195"><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142195"><span class="hs-identifier hs-var">attrNum</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679142196"><span class="annot"><span class="annottext">Maybe PgAttribute
</span><a href="#local-6989586621679142196"><span class="hs-identifier hs-var">maybeAttr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe PgAttribute
</span><a href="#local-6989586621679142196"><span class="hs-identifier hs-var">maybeAttr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-417"></span><span>        </span><span class="annot"><span class="annottext">Maybe PgAttribute
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-418"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Either String PgAttribute
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String PgAttribute)
-&gt; String -&gt; Either String PgAttribute
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-419"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unable to find attribute number &quot;</span></span><span>
</span><span id="line-420"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AttributeNumber -&gt; Int16
</span><a href="Orville.PostgreSQL.PgCatalog.PgAttribute.html#attributeNumberToInt16"><span class="hs-identifier hs-var">attributeNumberToInt16</span></a></span><span> </span><span class="annot"><span class="annottext">AttributeNumber
</span><a href="#local-6989586621679142195"><span class="hs-identifier hs-var">attrNum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; of relation &quot;</span></span><span>
</span><span id="line-422"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelationName -&gt; String
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#relationNameToString"><span class="hs-identifier hs-var">relationNameToString</span></a></span><span> </span><span class="annot"><span class="annottext">(RelationName -&gt; String)
-&gt; (PgClassAndAttributes -&gt; RelationName)
-&gt; PgClassAndAttributes
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; RelationName
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassRelationName"><span class="hs-identifier hs-var">pgClassRelationName</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClass -&gt; RelationName)
-&gt; (PgClassAndAttributes -&gt; PgClass)
-&gt; PgClassAndAttributes
-&gt; RelationName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes -&gt; PgClass
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#pgClassRecord"><span class="hs-identifier hs-var">pgClassRecord</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes -&gt; String) -&gt; PgClassAndAttributes -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PgClassAndAttributes
</span><a href="#local-6989586621679142194"><span class="hs-identifier hs-var">pgClassAndAttrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679142198"><span class="annot"><span class="annottext">PgAttribute
</span><a href="#local-6989586621679142198"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-424"></span><span>          </span><span class="annot"><span class="annottext">PgAttribute -&gt; Either String PgAttribute
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">PgAttribute
</span><a href="#local-6989586621679142198"><span class="hs-identifier hs-var">attr</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><span class="annottext">((PgClassAndAttributes, AttributeNumber)
 -&gt; Maybe PgAttribute -&gt; Either String PgAttribute)
-&gt; Plan
     scope (PgClassAndAttributes, AttributeNumber) (Maybe PgAttribute)
-&gt; Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
forall param a b scope.
(param -&gt; a -&gt; Either String b)
-&gt; Plan scope param a -&gt; Plan scope param b
</span><a href="Orville.PostgreSQL.Plan.html#assert"><span class="hs-identifier hs-var">Plan.assert</span></a></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, AttributeNumber)
-&gt; Maybe PgAttribute -&gt; Either String PgAttribute
</span><a href="#local-6989586621679142193"><span class="hs-identifier hs-var">assertFound</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan
   scope (PgClassAndAttributes, AttributeNumber) (Maybe PgAttribute)
 -&gt; Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute)
-&gt; Plan
     scope (PgClassAndAttributes, AttributeNumber) (Maybe PgAttribute)
-&gt; Plan scope (PgClassAndAttributes, AttributeNumber) PgAttribute
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((PgClassAndAttributes, AttributeNumber) -&gt; Maybe PgAttribute)
-&gt; Plan
     scope
     (PgClassAndAttributes, AttributeNumber)
     (PgClassAndAttributes, AttributeNumber)
-&gt; Plan
     scope (PgClassAndAttributes, AttributeNumber) (Maybe PgAttribute)
forall a b.
(a -&gt; b)
-&gt; Plan scope (PgClassAndAttributes, AttributeNumber) a
-&gt; Plan scope (PgClassAndAttributes, AttributeNumber) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(PgClassAndAttributes, AttributeNumber) -&gt; Maybe PgAttribute
</span><a href="#local-6989586621679142190"><span class="hs-identifier hs-var">lookupAttr</span></a></span><span> </span><span class="annot"><span class="annottext">Plan
  scope
  (PgClassAndAttributes, AttributeNumber)
  (PgClassAndAttributes, AttributeNumber)
forall scope param. Plan scope param param
</span><a href="Orville.PostgreSQL.Plan.html#askParam"><span class="hs-identifier hs-var">Plan.askParam</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span id="local-6989586621679141795"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassSequence"><span class="hs-identifier hs-type">findClassSequence</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Orville.PostgreSQL.Plan.html#Plan"><span class="hs-identifier hs-type">Plan.Plan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141795"><span class="hs-identifier hs-type">scope</span></a></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#PgClass"><span class="hs-identifier hs-type">PgClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#PgSequence"><span class="hs-identifier hs-type">PgSequence</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-429"></span><span id="findClassSequence"><span class="annot"><span class="annottext">findClassSequence :: forall scope. Plan scope PgClass (Maybe PgSequence)
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#findClassSequence"><span class="hs-identifier hs-var hs-var">findClassSequence</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><span class="annottext">(PgClass -&gt; Oid)
-&gt; Plan scope Oid (Maybe PgSequence)
-&gt; Plan scope PgClass (Maybe PgSequence)
forall a b scope result.
(a -&gt; b) -&gt; Plan scope b result -&gt; Plan scope a result
</span><a href="Orville.PostgreSQL.Plan.html#focusParam"><span class="hs-identifier hs-var">Plan.focusParam</span></a></span><span> </span><span class="annot"><span class="annottext">PgClass -&gt; Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgClass.html#pgClassOid"><span class="hs-identifier hs-var">pgClassOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Plan scope Oid (Maybe PgSequence)
 -&gt; Plan scope PgClass (Maybe PgSequence))
-&gt; Plan scope Oid (Maybe PgSequence)
-&gt; Plan scope PgClass (Maybe PgSequence)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-431"></span><span>    </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgSequence PgSequence
-&gt; FieldDefinition NotNull Oid -&gt; Plan scope Oid (Maybe PgSequence)
forall fieldValue key writeEntity readEntity nullability scope.
Ord fieldValue =&gt;
TableDefinition key writeEntity readEntity
-&gt; FieldDefinition nullability fieldValue
-&gt; Plan scope fieldValue (Maybe readEntity)
</span><a href="Orville.PostgreSQL.Plan.html#findMaybeOne"><span class="hs-identifier hs-var">Plan.findMaybeOne</span></a></span><span> </span><span class="annot"><span class="annottext">TableDefinition (HasKey Oid) PgSequence PgSequence
</span><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#pgSequenceTable"><span class="hs-identifier hs-var">pgSequenceTable</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition NotNull Oid
</span><a href="Orville.PostgreSQL.PgCatalog.PgSequence.html#sequencePgClassOidField"><span class="hs-identifier hs-var">sequencePgClassOidField</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span id="local-6989586621679141790"><span id="local-6989586621679141791"><span class="annot"><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexBy"><span class="hs-identifier hs-type">indexBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679141790"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679141791"><span class="hs-identifier hs-type">row</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679141790"><span class="hs-identifier hs-type">key</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679141791"><span class="hs-identifier hs-type">row</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679141790"><span class="hs-identifier hs-type">key</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679141791"><span class="hs-identifier hs-type">row</span></a></span></span></span><span>
</span><span id="line-434"></span><span id="indexBy"><span class="annot"><span class="annottext">indexBy :: forall key row. Ord key =&gt; (row -&gt; key) -&gt; [row] -&gt; Map key row
</span><a href="Orville.PostgreSQL.PgCatalog.DatabaseDescription.html#indexBy"><span class="hs-identifier hs-var hs-var">indexBy</span></a></span></span><span> </span><span id="local-6989586621679142205"><span class="annot"><span class="annottext">row -&gt; key
</span><a href="#local-6989586621679142205"><span class="hs-identifier hs-var">rowKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-435"></span><span>  </span><span class="annot"><span class="annottext">[(key, row)] -&gt; Map key row
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(key, row)] -&gt; Map key row)
-&gt; ([row] -&gt; [(key, row)]) -&gt; [row] -&gt; Map key row
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(row -&gt; (key, row)) -&gt; [row] -&gt; [(key, row)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679142207"><span class="annot"><span class="annottext">row
</span><a href="#local-6989586621679142207"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">row -&gt; key
</span><a href="#local-6989586621679142205"><span class="hs-identifier hs-var">rowKey</span></a></span><span> </span><span class="annot"><span class="annottext">row
</span><a href="#local-6989586621679142207"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">row
</span><a href="#local-6989586621679142207"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-436"></span></pre></body></html>