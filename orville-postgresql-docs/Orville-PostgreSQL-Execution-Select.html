<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Orville.PostgreSQL.Execution.Select</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">orville-postgresql-1.0.0.0: ORM</span><ul class="links" id="page-menu"><li><a href="src/Orville.PostgreSQL.Execution.Select.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Flipstone Technology Partners 2023</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Stability</th><td>Stable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Orville.PostgreSQL.Execution.Select</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions for working with executable <code>SELECT</code> statements. The <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> type is
a value that can be passed around and executed later. The <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> is directly
associated with how to decode the rows returned by the query . This means it
can be safely executed via <code>executeInsert</code> and decode the rows.. It is a
lower-level API than the entity select functions in
<a href="Orville-PostgreSQL-Execution-EntityOperations.html">Orville.PostgreSQL.Execution.EntityOperations</a>, but not as primitive as
<a href="Orville-PostgreSQL-Expr-Query.html">Orville.PostgreSQL.Expr.Query</a>.</p><p><em>Since: 1.0.0.0</em></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Select">Select</a> readEntity</li><li class="src short"><a href="#v:executeSelect">executeSelect</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> row -&gt; m [row]</li><li class="src short"><a href="#v:useSelect">useSelect</a> :: (<span class="keyword">forall</span> writeEntity. <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a> -&gt; <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; a) -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity -&gt; a</li><li class="src short"><a href="#v:selectToQueryExpr">selectToQueryExpr</a> :: <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a></li><li class="src short"><a href="#v:selectTable">selectTable</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Execution-SelectOptions.html#t:SelectOptions" title="Orville.PostgreSQL.Execution.SelectOptions">SelectOptions</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity</li><li class="src short"><a href="#v:selectMarshalledColumns">selectMarshalledColumns</a> :: <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Name.html#t:Qualified" title="Orville.PostgreSQL.Expr.Name">Qualified</a> <a href="Orville-PostgreSQL-Expr-Name.html#t:TableName" title="Orville.PostgreSQL.Expr.Name">TableName</a> -&gt; <a href="Orville-PostgreSQL-Execution-SelectOptions.html#t:SelectOptions" title="Orville.PostgreSQL.Execution.SelectOptions">SelectOptions</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity</li><li class="src short"><a href="#v:rawSelectQueryExpr">rawSelectQueryExpr</a> :: <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Select" class="def">Select</a> readEntity <a href="src/Orville.PostgreSQL.Execution.Select.html#Select" class="link">Source</a> <a href="#t:Select" class="selflink">#</a></p><div class="doc"><p>Represents a <code>SELECT</code> statement that can be executed against a database. A
  <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> has a <code>SqlMarshaller</code> bound to it that will be used to decode the
  database result set when it is executed.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:executeSelect" class="def">executeSelect</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> row -&gt; m [row] <a href="src/Orville.PostgreSQL.Execution.Select.html#executeSelect" class="link">Source</a> <a href="#v:executeSelect" class="selflink">#</a></p><div class="doc"><p>Excutes the database query for the <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> and uses its <code>SqlMarshaller</code> to
  decode the result set.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:useSelect" class="def">useSelect</a> :: (<span class="keyword">forall</span> writeEntity. <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a> -&gt; <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; a) -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity -&gt; a <a href="src/Orville.PostgreSQL.Execution.Select.html#useSelect" class="link">Source</a> <a href="#v:useSelect" class="selflink">#</a></p><div class="doc"><p>Runs a function allowing it to use the data elements containted within the
  <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> it pleases. The marshaller that the function is provided can be use
  to decode results from the query.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:selectToQueryExpr" class="def">selectToQueryExpr</a> :: <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a> <a href="src/Orville.PostgreSQL.Execution.Select.html#selectToQueryExpr" class="link">Source</a> <a href="#v:selectToQueryExpr" class="selflink">#</a></p><div class="doc"><p>Extracts the query that will be run when the select is executed. Normally you
  don't want to extract the query and run it yourself, but this function is
  useful to view the query for debugging or query explanation.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:selectTable" class="def">selectTable</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Execution-SelectOptions.html#t:SelectOptions" title="Orville.PostgreSQL.Execution.SelectOptions">SelectOptions</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity <a href="src/Orville.PostgreSQL.Execution.Select.html#selectTable" class="link">Source</a> <a href="#v:selectTable" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> that will select all the columns described in the
  <code><a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a></code>. This is the safest way to build a <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code>, because table
  name and columns are all read from the <code><a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a></code>. If the table is
  being managed with Orville auto migrations, this will match the schema in the
  database.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:selectMarshalledColumns" class="def">selectMarshalledColumns</a> :: <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Name.html#t:Qualified" title="Orville.PostgreSQL.Expr.Name">Qualified</a> <a href="Orville-PostgreSQL-Expr-Name.html#t:TableName" title="Orville.PostgreSQL.Expr.Name">TableName</a> -&gt; <a href="Orville-PostgreSQL-Execution-SelectOptions.html#t:SelectOptions" title="Orville.PostgreSQL.Execution.SelectOptions">SelectOptions</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity <a href="src/Orville.PostgreSQL.Execution.Select.html#selectMarshalledColumns" class="link">Source</a> <a href="#v:selectMarshalledColumns" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> that will select the columns described by the marshaller
  from the specified table. It is up to the caller to ensure that the columns
  in the marshaller make sense for the table.</p><p>This function is useful for query a subset of table columns using a custom
  marshaller.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:rawSelectQueryExpr" class="def">rawSelectQueryExpr</a> :: <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a> readEntity <a href="src/Orville.PostgreSQL.Execution.Select.html#rawSelectQueryExpr" class="link">Source</a> <a href="#v:rawSelectQueryExpr" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code> that will execute the specified query and use the given
  <code>SqlMarshaller</code> to decode it. It is up to the caller to ensure that the given
  <code><a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a></code> makes sense and produces a result set that the
  <code>SqlMarshaller</code> can decode.</p><p>This is the lowest level of escape hatch available for <code><a href="Orville-PostgreSQL-Execution-Select.html#t:Select" title="Orville.PostgreSQL.Execution.Select">Select</a></code>. The caller
  can build any query that Orville supports using the expression building
  functions, or use <code>RawSql.fromRawSql</code> to build a raw <code><a href="Orville-PostgreSQL-Expr-Query.html#t:QueryExpr" title="Orville.PostgreSQL.Expr.Query">QueryExpr</a></code>.</p><p><em>Since: 1.0.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>