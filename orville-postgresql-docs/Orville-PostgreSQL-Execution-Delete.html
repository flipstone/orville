<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Orville.PostgreSQL.Execution.Delete</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">orville-postgresql-1.0.0.0: ORM</span><ul class="links" id="page-menu"><li><a href="src/Orville.PostgreSQL.Execution.Delete.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Flipstone Technology Partners 2023</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Stability</th><td>Stable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Orville.PostgreSQL.Execution.Delete</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions for working with executable <code>DELETE</code> statements. The <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> type is
a value that can be passed around and executed later. The <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> is directly
associated with the presence of a returning clause and how to decode any rows
returned by that clause. This means it can be safely executed via
<code><a href="Orville-PostgreSQL-Execution-Delete.html#v:executeDelete" title="Orville.PostgreSQL.Execution.Delete">executeDelete</a></code> or <code>executeDeleteReturning</code> as appropriate. It is a lower-level
API than the entity delete functions in
<a href="Orville-PostgreSQL-Execution-EntityOperations.html">Orville.PostgreSQL.Execution.EntityOperations</a>, but not as primitive as
<a href="Orville-PostgreSQL-Expr-Delete.html">Orville.PostgreSQL.Expr.Delete</a>.</p><p><em>Since: 1.0.0.0</em></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Delete">Delete</a> readEntity returningClause</li><li class="src short"><a href="#v:deleteFromDeleteExpr">deleteFromDeleteExpr</a> :: <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity returningClause -&gt; <a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a></li><li class="src short"><a href="#v:executeDelete">executeDelete</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:NoReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">NoReturningClause</a> -&gt; m <a href="../base-4.17.2.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:executeDeleteReturnEntities">executeDeleteReturnEntities</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningClause</a> -&gt; m [readEntity]</li><li class="src short"><a href="#v:deleteFromTableReturning">deleteFromTableReturning</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="../base-4.17.2.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Expr-WhereClause.html#t:BooleanExpr" title="Orville.PostgreSQL.Expr.WhereClause">BooleanExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningClause</a></li><li class="src short"><a href="#v:deleteFromTable">deleteFromTable</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="../base-4.17.2.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Expr-WhereClause.html#t:BooleanExpr" title="Orville.PostgreSQL.Expr.WhereClause">BooleanExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:NoReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">NoReturningClause</a></li><li class="src short"><a href="#v:rawDeleteExpr">rawDeleteExpr</a> :: <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningOption" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningOption</a> returningClause -&gt; <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity returningClause</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Delete" class="def">Delete</a> readEntity returningClause <a href="src/Orville.PostgreSQL.Execution.Delete.html#Delete" class="link">Source</a> <a href="#t:Delete" class="selflink">#</a></p><div class="doc"><p>Represents a <code>DELETE</code> statement that can be executed against a database. A <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> has a
  <code>SqlMarshaller</code> bound to it that, when the delete returns data from the database, will be used to
  decode the database result set when it is executed.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:deleteFromDeleteExpr" class="def">deleteFromDeleteExpr</a> :: <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity returningClause -&gt; <a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a> <a href="src/Orville.PostgreSQL.Execution.Delete.html#deleteFromDeleteExpr" class="link">Source</a> <a href="#v:deleteFromDeleteExpr" class="selflink">#</a></p><div class="doc"><p>Extracts the query that will be run when the delete is executed. Normally you
  don't want to extract the query and run it yourself, but this function is
  useful to view the query for debugging or query explanation.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:executeDelete" class="def">executeDelete</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:NoReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">NoReturningClause</a> -&gt; m <a href="../base-4.17.2.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Orville.PostgreSQL.Execution.Delete.html#executeDelete" class="link">Source</a> <a href="#v:executeDelete" class="selflink">#</a></p><div class="doc"><p>Excutes the database query for the <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> and returns the number of
  rows affected by the query.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:executeDeleteReturnEntities" class="def">executeDeleteReturnEntities</a> :: <a href="Orville-PostgreSQL-Monad-MonadOrville.html#t:MonadOrville" title="Orville.PostgreSQL.Monad.MonadOrville">MonadOrville</a> m =&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningClause</a> -&gt; m [readEntity] <a href="src/Orville.PostgreSQL.Execution.Delete.html#executeDeleteReturnEntities" class="link">Source</a> <a href="#v:executeDeleteReturnEntities" class="selflink">#</a></p><div class="doc"><p>Excutes the database query for the <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> and uses its <code>SqlMarshaller</code> to decode the rows (that
  were just deleteed) as returned via a RETURNING clause.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:deleteFromTableReturning" class="def">deleteFromTableReturning</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="../base-4.17.2.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Expr-WhereClause.html#t:BooleanExpr" title="Orville.PostgreSQL.Expr.WhereClause">BooleanExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningClause</a> <a href="src/Orville.PostgreSQL.Execution.Delete.html#deleteFromTableReturning" class="link">Source</a> <a href="#v:deleteFromTableReturning" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> that will delete all of the writeable columns described in the
  <code><a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a></code> and returning the data as seen by the database. This is useful for getting
  database managed columns such as auto-incrementing identifiers and sequences.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:deleteFromTable" class="def">deleteFromTable</a> :: <a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a> key writeEntity readEntity -&gt; <a href="../base-4.17.2.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Orville-PostgreSQL-Expr-WhereClause.html#t:BooleanExpr" title="Orville.PostgreSQL.Expr.WhereClause">BooleanExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:NoReturningClause" title="Orville.PostgreSQL.Execution.ReturningOption">NoReturningClause</a> <a href="src/Orville.PostgreSQL.Execution.Delete.html#deleteFromTable" class="link">Source</a> <a href="#v:deleteFromTable" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> that will delete all of the writeable columns described in the
  <code><a href="Orville-PostgreSQL-Schema-TableDefinition.html#t:TableDefinition" title="Orville.PostgreSQL.Schema.TableDefinition">TableDefinition</a></code> without returning the data as seen by the database.</p><p><em>Since: 1.0.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:rawDeleteExpr" class="def">rawDeleteExpr</a> :: <a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningOption" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningOption</a> returningClause -&gt; <a href="Orville-PostgreSQL-Marshall-SqlMarshaller.html#t:AnnotatedSqlMarshaller" title="Orville.PostgreSQL.Marshall.SqlMarshaller">AnnotatedSqlMarshaller</a> writeEntity readEntity -&gt; <a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a> -&gt; <a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a> readEntity returningClause <a href="src/Orville.PostgreSQL.Execution.Delete.html#rawDeleteExpr" class="link">Source</a> <a href="#v:rawDeleteExpr" class="selflink">#</a></p><div class="doc"><p>Builds a <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code> that will execute the specified query and use the given
  <code>SqlMarshaller</code> to decode it. It is up to the caller to ensure that the given
  <code><a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a></code> makes sense and returns a result that the <code>SqlMarshaller</code>
  can decode.</p><p>This is the lowest level of escape hatch available for <code><a href="Orville-PostgreSQL-Execution-Delete.html#t:Delete" title="Orville.PostgreSQL.Execution.Delete">Delete</a></code>. The caller can build any query
  that Orville supports using the expression building functions, or use <code>RawSql.fromRawSql</code> to build
  a raw <code><a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a></code>. It is expected that the <code><a href="Orville-PostgreSQL-Execution-ReturningOption.html#t:ReturningOption" title="Orville.PostgreSQL.Execution.ReturningOption">ReturningOption</a></code> given matches the
  <code><a href="Orville-PostgreSQL-Expr-Delete.html#t:DeleteExpr" title="Orville.PostgreSQL.Expr.Delete">DeleteExpr</a></code>. This level of interface does not provide an automatic enforcement of the
  expectation, however failure is likely if that is not met.</p><p><em>Since: 1.0.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>