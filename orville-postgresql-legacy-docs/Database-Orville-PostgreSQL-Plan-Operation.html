<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Database.Orville.PostgreSQL.Plan.Operation</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Database.Orville.PostgreSQL.Plan.Operation.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">orville-postgresql-legacy-0.9.0.1: ORM</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Orville.PostgreSQL.Plan.Operation</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Operation">Operation</a> param result = <a href="#v:Operation">Operation</a> {<ul class="subs"><li><a href="#v:executeOperationOne">executeOperationOne</a> :: <span class="keyword">forall</span> conn m. <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m =&gt; param -&gt; m (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> result)</li><li><a href="#v:executeOperationMany">executeOperationMany</a> :: <span class="keyword">forall</span> conn m. <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m =&gt; [param] -&gt; m (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> (<a href="Database-Orville-PostgreSQL-Plan-Many.html#t:Many" title="Database.Orville.PostgreSQL.Plan.Many">Many</a> param result))</li><li><a href="#v:explainOperationOne">explainOperationOne</a> :: <a href="Database-Orville-PostgreSQL-Plan-Explanation.html#t:Explanation" title="Database.Orville.PostgreSQL.Plan.Explanation">Explanation</a></li><li><a href="#v:explainOperationMany">explainOperationMany</a> :: <a href="Database-Orville-PostgreSQL-Plan-Explanation.html#t:Explanation" title="Database.Orville.PostgreSQL.Plan.Explanation">Explanation</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:AssertionFailed">AssertionFailed</a></li><li class="src short"><a href="#v:mkAssertionFailed">mkAssertionFailed</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></li><li class="src short"><a href="#v:findOne">findOne</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> readEntity)</li><li class="src short"><a href="#v:findOneWhere">findOneWhere</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> readEntity)</li><li class="src short"><a href="#v:findAll">findAll</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue [readEntity]</li><li class="src short"><a href="#v:findAllWhere">findAllWhere</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue [readEntity]</li><li class="src short"><a href="#v:findSelect">findSelect</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param [row]</li><li class="src short"><a href="#v:askParam">askParam</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param param</li><li class="src short"><a href="#v:assertRight">assertRight</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> a) a</li><li class="src short"><span class="keyword">data</span> <a href="#t:SelectOperation">SelectOperation</a> param row result = <a href="#v:SelectOperation">SelectOperation</a> {<ul class="subs"><li><a href="#v:selectOne">selectOne</a> :: param -&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</li><li><a href="#v:selectMany">selectMany</a> :: [param] -&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</li><li><a href="#v:explainSelectOne">explainSelectOne</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</li><li><a href="#v:explainSelectMany">explainSelectMany</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</li><li><a href="#v:categorizeRow">categorizeRow</a> :: row -&gt; param</li><li><a href="#v:produceResult">produceResult</a> :: [row] -&gt; result</li></ul>}</li><li class="src short"><a href="#v:selectOperation">selectOperation</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> param =&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a> param row result -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param result</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Operation" class="def">Operation</a> param result <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#Operation" class="link">Source</a> <a href="#t:Operation" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> provides a stucture for building primitive operations that can be
  incorporated into a <code><a href="Database-Orville-PostgreSQL-Plan.html#v:Plan" title="Database.Orville.PostgreSQL.Plan">Plan</a></code>. An <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code>
  provides base case implementations of the various plan execution functions.
  You only need to care about this type if you want to create new custom
  operations to include in a <code><a href="Database-Orville-PostgreSQL-Plan.html#v:Plan" title="Database.Orville.PostgreSQL.Plan">Plan</a></code> beyond
  those already provided in the <code><a href="Database-Orville-PostgreSQL-Plan.html#v:Plan" title="Database.Orville.PostgreSQL.Plan">Plan</a></code>
  api.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Operation" class="def">Operation</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:executeOperationOne" class="def">executeOperationOne</a> :: <span class="keyword">forall</span> conn m. <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m =&gt; param -&gt; m (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> result)</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:executeOperationOne" title="Database.Orville.PostgreSQL.Plan.Operation">executeOperationOne</a></code> will be called when an plan is
 executed with a single input parameter</p></div></li><li><dfn class="src"><a id="v:executeOperationMany" class="def">executeOperationMany</a> :: <span class="keyword">forall</span> conn m. <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m =&gt; [param] -&gt; m (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> (<a href="Database-Orville-PostgreSQL-Plan-Many.html#t:Many" title="Database.Orville.PostgreSQL.Plan.Many">Many</a> param result))</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:executeOperationMany" title="Database.Orville.PostgreSQL.Plan.Operation">executeOperationMany</a></code> will be called when an plan is
 executed with multiple input parameters (via <code>planMany</code>).</p></div></li><li><dfn class="src"><a id="v:explainOperationOne" class="def">explainOperationOne</a> :: <a href="Database-Orville-PostgreSQL-Plan-Explanation.html#t:Explanation" title="Database.Orville.PostgreSQL.Plan.Explanation">Explanation</a></dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:explainOperationOne" title="Database.Orville.PostgreSQL.Plan.Operation">explainOperationOne</a></code> will be called when producing an explanation
 of what the plan will do when given one input parameter. Plans that do
 not perform any interesting IO interactions should generally return an
 empty explanation.</p></div></li><li><dfn class="src"><a id="v:explainOperationMany" class="def">explainOperationMany</a> :: <a href="Database-Orville-PostgreSQL-Plan-Explanation.html#t:Explanation" title="Database.Orville.PostgreSQL.Plan.Explanation">Explanation</a></dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:explainOperationMany" title="Database.Orville.PostgreSQL.Plan.Operation">explainOperationMany</a></code> will be called when producing an explanation
 of what the plan will do when given multiple input parameters (via
 <code>planMany</code>). Plans that do not perform any interesting IO interactions
 should generally return an empty explanation.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AssertionFailed" class="def">AssertionFailed</a> <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#AssertionFailed" class="link">Source</a> <a href="#t:AssertionFailed" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></code> may be returned from the execute functions of an
  <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> to indicate that some expected invariant has failed. For example,
  following a foreign key that is enforced by the database only to find that no
  record exists. When an <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> returns an <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></code> value during
  plan execution the error is thrown as an exception using the
  <code><a href="Control-Monad-Catch.html#v:MonadThrow" title="Control.Monad.Catch">MonadThrow</a></code> instance for whatever monad the plan is
  executing in.</p></div><div class="subs instances"><details id="i:AssertionFailed" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AssertionFailed:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></span> <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#line-81" class="link">Source</a> <a href="#t:AssertionFailed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AssertionFailed:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Orville-PostgreSQL-Plan-Operation.html">Database.Orville.PostgreSQL.Plan.Operation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AssertionFailed:Exception:2"></span> <a href="../base-4.12.0.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></span> <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#line-90" class="link">Source</a> <a href="#t:AssertionFailed" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AssertionFailed:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Orville-PostgreSQL-Plan-Operation.html">Database.Orville.PostgreSQL.Plan.Operation</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> -&gt; <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="../base-4.12.0.0/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkAssertionFailed" class="def">mkAssertionFailed</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a> <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#mkAssertionFailed" class="link">Source</a> <a href="#v:mkAssertionFailed" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:mkAssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">mkAssertionFailed</a></code> builds an <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></code> error from an error message.</p></div></div><div class="top"><p class="src"><a id="v:findOne" class="def">findOne</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> readEntity) <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#findOne" class="link">Source</a> <a href="#v:findOne" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findOne" title="Database.Orville.PostgreSQL.Plan.Operation">findOne</a></code> builds a planning primitive that finds (at most) one row from the
  given table where the column value for the provided <code><a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a></code> matches
  the plan's input parameter. When executed on multiple parameters it fetches
  all rows where the field matches the inputs and arbitrarily picks at most one
  of those rows to use as the result for each input.</p></div></div><div class="top"><p class="src"><a id="v:findOneWhere" class="def">findOneWhere</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> readEntity) <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#findOneWhere" class="link">Source</a> <a href="#v:findOneWhere" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findOneWhere" title="Database.Orville.PostgreSQL.Plan.Operation">findOneWhere</a></code> is similar to <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findOne" title="Database.Orville.PostgreSQL.Plan.Operation">findOne</a></code> but allows a <code>WhereCondition</code> to be
  specified that is added to the database query to restrict which rows are
  returned.</p></div></div><div class="top"><p class="src"><a id="v:findAll" class="def">findAll</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue [readEntity] <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#findAll" class="link">Source</a> <a href="#v:findAll" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findAll" title="Database.Orville.PostgreSQL.Plan.Operation">findAll</a></code> builds a planning primitive that finds all the rows from the
  given table where the column value for the provided field matches the
  plan's input parameter. Where executed on multiple parameters all rows
  are fetch in a single query and then associated with their respective
  inputs after being fetched.</p></div></div><div class="top"><p class="src"><a id="v:findAllWhere" class="def">findAllWhere</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> fieldValue =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEntity writeEntity key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> nullability fieldValue -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a> -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> fieldValue [readEntity] <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#findAllWhere" class="link">Source</a> <a href="#v:findAllWhere" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findAllWhere" title="Database.Orville.PostgreSQL.Plan.Operation">findAllWhere</a></code> is similar to <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findAll" title="Database.Orville.PostgreSQL.Plan.Operation">findAll</a></code> but allows a <code>WhereCondition</code> to be
  specified that is added to the database query to restrict which rows are
  returned.</p></div></div><div class="top"><p class="src"><a id="v:findSelect" class="def">findSelect</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param [row] <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#findSelect" class="link">Source</a> <a href="#v:findSelect" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findSelect" title="Database.Orville.PostgreSQL.Plan.Operation">findSelect</a></code> builds a plan <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> where the select that is run does not
  use the input parameters for the plan in any way. If the
  <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:executeOperationMany" title="Database.Orville.PostgreSQL.Plan.Operation">executeOperationMany</a></code> function of the resulting <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> will run the
  query once and use the entire result set as the result each of the input
  parameters in turn.</p></div></div><div class="top"><p class="src"><a id="v:askParam" class="def">askParam</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param param <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#askParam" class="link">Source</a> <a href="#v:askParam" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:askParam" title="Database.Orville.PostgreSQL.Plan.Operation">askParam</a></code> simply returns the paremeter given from the plan.</p></div></div><div class="top"><p class="src"><a id="v:assertRight" class="def">assertRight</a> :: <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> (<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> a) a <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#assertRight" class="link">Source</a> <a href="#v:assertRight" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:assertRight" title="Database.Orville.PostgreSQL.Plan.Operation">assertRight</a></code> returns the value on the <code><a href="../base-4.12.0.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code> side of an <code><a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code>. If
  the <code><a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code> is a <code><a href="../base-4.12.0.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code>, it raises <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:AssertionFailed" title="Database.Orville.PostgreSQL.Plan.Operation">AssertionFailed</a></code> with the message
  from the left side of the either.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SelectOperation" class="def">SelectOperation</a> param row result <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#SelectOperation" class="link">Source</a> <a href="#t:SelectOperation" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a></code> is a helper type for building <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> primitives that
  run <code><a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a></code> queries. Specifying the fields of <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a></code> and then
  using the <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:selectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">selectOperation</a></code> function to build an <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> is more
  convenient that building functions to execute the queries thate are required
  by the <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> type.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SelectOperation" class="def">SelectOperation</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:selectOne" class="def">selectOne</a> :: param -&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:selectOne" title="Database.Orville.PostgreSQL.Plan.Operation">selectOne</a></code> will be called to build the <code><a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a></code> query that should
 be run when there is a single input parameter while executing a plan.
 Note that the &quot;One-ness&quot; here refers to the single input parameter
 rather than result. See <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:produceResult" title="Database.Orville.PostgreSQL.Plan.Operation">produceResult</a></code> below for more information
 about returning one values vs. many from a <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a></code>.</p></div></li><li><dfn class="src"><a id="v:selectMany" class="def">selectMany</a> :: [param] -&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:selectMany" title="Database.Orville.PostgreSQL.Plan.Operation">selectMany</a></code> will be called to build the <code><a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a></code> query that should
 be run when there are multiple parameters while executing a plan.
 Note that the &quot;Many-ness&quot; here refers to the multiple input parameters
 rather than result. See <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:produceResult" title="Database.Orville.PostgreSQL.Plan.Operation">produceResult</a></code> below for more information
 about returning one values vs. many from a <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a></code>.</p></div></li><li><dfn class="src"><a id="v:explainSelectOne" class="def">explainSelectOne</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:explainSelectOne" title="Database.Orville.PostgreSQL.Plan.Operation">explainSelectOne</a></code> should show a representative query of what will
 be returned when <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:selectOne" title="Database.Orville.PostgreSQL.Plan.Operation">selectOne</a></code> is used. No input parameter is available
 here to build the query, however, because this value is used to
 explain a plan without actually running it.</p></div></li><li><dfn class="src"><a id="v:explainSelectMany" class="def">explainSelectMany</a> :: <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:explainSelectMany" title="Database.Orville.PostgreSQL.Plan.Operation">explainSelectMany</a></code> should show a representative query of what will
 be returned when 'selectMany is used. No input parameters are available
 here to build the query, however, because this value is used to
 explain a plan without actually running it.</p></div></li><li><dfn class="src"><a id="v:categorizeRow" class="def">categorizeRow</a> :: row -&gt; param</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:categorizeRow" title="Database.Orville.PostgreSQL.Plan.Operation">categorizeRow</a></code> will be used when a plan is executed with multiple
 parameters to determine which input parameter the row should be
 associated with.</p></div></li><li><dfn class="src"><a id="v:produceResult" class="def">produceResult</a> :: [row] -&gt; result</dfn><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:produceResult" title="Database.Orville.PostgreSQL.Plan.Operation">produceResult</a></code> will be used convert the <code>row</code> type returned by the
 <code><a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a></code> queries for the operation input the <code>result</code> type that is
 present as the output of the operation. The input rows will be all the
 inputs associated with a single parameter. The <code>result</code> type
 constructed here need not be a single value. For instance, <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findAll" title="Database.Orville.PostgreSQL.Plan.Operation">findAll</a></code>
 uses the list type as the <code>result</code> type and <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:findOne" title="Database.Orville.PostgreSQL.Plan.Operation">findOne</a></code> uses <code><a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a></code>.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:selectOperation" class="def">selectOperation</a> :: <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> param =&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a> param row result -&gt; <a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a> param result <a href="src/Database.Orville.PostgreSQL.Plan.Operation.html#selectOperation" class="link">Source</a> <a href="#v:selectOperation" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#v:selectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">selectOperation</a></code> builds a primitive planning <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> using the functions
  given by a <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:SelectOperation" title="Database.Orville.PostgreSQL.Plan.Operation">SelectOperation</a></code>. If you are implementing a custom operation that
  runs a select statement, it is probably easier to use this function rather
  than building the <code><a href="Database-Orville-PostgreSQL-Plan-Operation.html#t:Operation" title="Database.Orville.PostgreSQL.Plan.Operation">Operation</a></code> functions directly.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>