<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Database.Orville.PostgreSQL.Conduit</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Database.Orville.PostgreSQL.Conduit.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">orville-postgresql-legacy-0.9.0.1: ORM</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Flipstone Technology Partners 2016-2018</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Orville.PostgreSQL.Conduit</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:selectConduit">selectConduit</a> :: (<a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m, MonadCatch m, MonadResource m) =&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row -&gt; ConduitT () row m ()</li><li class="src short"><a href="#v:streamPages">streamPages</a> :: (<a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m, <a href="../base-4.12.0.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> orderField, <a href="../base-4.12.0.0/Prelude.html#t:Enum" title="Prelude">Enum</a> orderField) =&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEnt write key -&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> <a href="Database-Orville-PostgreSQL-Core.html#t:NotNull" title="Database.Orville.PostgreSQL.Core">NotNull</a> orderField -&gt; (readEnt -&gt; orderField) -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a> -&gt; <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; ConduitT () readEnt m ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:selectConduit" class="def">selectConduit</a> :: (<a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m, MonadCatch m, MonadResource m) =&gt; <a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a> row -&gt; ConduitT () row m () <a href="src/Database.Orville.PostgreSQL.Conduit.html#selectConduit" class="link">Source</a> <a href="#v:selectConduit" class="selflink">#</a></p><div class="doc"><p><code><a href="Database-Orville-PostgreSQL-Conduit.html#v:selectConduit" title="Database.Orville.PostgreSQL.Conduit">selectConduit</a></code> provides a way to stream the results of a <code><a href="Database-Orville-PostgreSQL-Select.html#t:Select" title="Database.Orville.PostgreSQL.Select">Select</a></code> query
   from the database one by one using the conduit library. You can <code>fuse</code> the
   conduit built by this function with your own conduit pipeline to handle rows
   individually in whatever fashion you need (e.g. turning them into rows of
   CSV). This is useful if you want to be able to process many rows one by one.
   You can aggregate the results however you require as part of the conduit
   processing and then use <code>runConduit</code> (or <code>runConduitRes</code>) from the conduit
   library to execute the processing pipeline. Alternatively, your web server
   (<code>wai</code>, <code>servant</code>, etc) may provide support for converting a conduit into a
   streaming HTTP response.</p><p>Beware: this function must load all the results into memory before streaming
   can begin. For why, see <a href="https://www.postgresql.org/docs/9.2/libpq-single-row-mode.html">https://www.postgresql.org/docs/9.2/libpq-single-row-mode.html</a>.
   If memory use is a concern, try <code><a href="Database-Orville-PostgreSQL-Conduit.html#v:streamPages" title="Database.Orville.PostgreSQL.Conduit">streamPages</a></code> instead.</p></div></div><div class="top"><p class="src"><a id="v:streamPages" class="def">streamPages</a> <a href="src/Database.Orville.PostgreSQL.Conduit.html#streamPages" class="link">Source</a> <a href="#v:streamPages" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Database-Orville-PostgreSQL-Core.html#t:MonadOrville" title="Database.Orville.PostgreSQL.Core">MonadOrville</a> conn m, <a href="../base-4.12.0.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> orderField, <a href="../base-4.12.0.0/Prelude.html#t:Enum" title="Prelude">Enum</a> orderField)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:TableDefinition" title="Database.Orville.PostgreSQL.Core">TableDefinition</a> readEnt write key</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Database-Orville-PostgreSQL-Core.html#t:FieldDefinition" title="Database.Orville.PostgreSQL.Core">FieldDefinition</a> <a href="Database-Orville-PostgreSQL-Core.html#t:NotNull" title="Database.Orville.PostgreSQL.Core">NotNull</a> orderField</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (readEnt -&gt; orderField)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Database-Orville-PostgreSQL-Core.html#t:WhereCondition" title="Database.Orville.PostgreSQL.Core">WhereCondition</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc"><p>number of rows fetched per page</p></td></tr><tr><td class="src">-&gt; ConduitT () readEnt m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Build a conduit source that is fed by querying one page worth of results
 at a time. When the last row of the last page is consumed, the stream ends.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>